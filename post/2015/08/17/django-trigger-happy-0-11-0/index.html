<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Django Trigger Happy 0.11.0 - Le Free de la Passion</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="https://foxmask.org/post/2015/08/17/django-trigger-happy-0-11-0/">

        <meta name="author" content="foxmask" />
        <meta name="keywords" content="Django,python,TriggerHappy" />
        <meta name="description" content="Bonjour, Voici venue une petite mise à jour de mon petit projet, de micro ESB, permettant d&#39;orchestrer la récupération de données et leur publication, le tout en exploitant vos propres services internet (comme Twitter pour n&#39;en citer qu&#39;un). Juste histoire d&#39;être maître de vos données sans devoir donner vos autorisations …" />

        <meta property="og:site_name" content="Le Free de la Passion" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Django Trigger Happy 0.11.0"/>
        <meta property="og:url" content="https://foxmask.org/post/2015/08/17/django-trigger-happy-0-11-0/"/>
        <meta property="og:description" content="Bonjour, Voici venue une petite mise à jour de mon petit projet, de micro ESB, permettant d&#39;orchestrer la récupération de données et leur publication, le tout en exploitant vos propres services internet (comme Twitter pour n&#39;en citer qu&#39;un). Juste histoire d&#39;être maître de vos données sans devoir donner vos autorisations …"/>
        <meta property="article:published_time" content="2015-08-17" />
            <meta property="article:section" content="Techno" />
            <meta property="article:tag" content="Django" />
            <meta property="article:tag" content="python" />
            <meta property="article:tag" content="TriggerHappy" />
            <meta property="article:author" content="foxmask" />



    <!-- Bootstrap -->
        <link rel="stylesheet" href="https://foxmask.org/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="https://foxmask.org/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="https://foxmask.org/theme/css/pygments/native.css" rel="stylesheet">
    <link href="https://foxmask.org/theme/tipuesearch/tipuesearch.css" rel="stylesheet">
    <link rel="stylesheet" href="https://foxmask.org/theme/css/style.css" type="text/css"/>

        <link href="https://foxmask.org/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Le Free de la Passion ATOM Feed"/>

        <link href="https://foxmask.org/feeds/all.rss.xml" type="application/rss+xml" rel="alternate"
              title="Le Free de la Passion RSS Feed"/>
        <link href="https://foxmask.org/feeds/techno.atom.xml" type="application/atom+xml" rel="alternate"
              title="Le Free de la Passion Techno ATOM Feed"/>
</head>
<body>

<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="https://foxmask.org/" class="navbar-brand">
Le Free de la Passion            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="https://foxmask.org/pages/a-propos">
                             À propos
                          </a></li>
                        <li >
                            <a href="https://foxmask.org/category/games.html">Games</a>
                        </li>
                        <li >
                            <a href="https://foxmask.org/category/general.html">General</a>
                        </li>
                        <li >
                            <a href="https://foxmask.org/category/korea.html">Korea</a>
                        </li>
                        <li class="active">
                            <a href="https://foxmask.org/category/techno.html">Techno</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><span>
                <form class="navbar-search" action="/search.html">
                  <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input" required>
                </form></span>
              </li>
              <li><a href="https://foxmask.org/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->

<!-- Banner -->
<!-- End Banner -->

<!-- Content Container -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="https://foxmask.org/post/2015/08/17/django-trigger-happy-0-11-0/"
                       rel="bookmark"
                       title="Permalink to Django Trigger Happy 0.11.0">
                        Django Trigger Happy 0.11.0
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2015-08-17T14:00:00+02:00"> lun. 17 août 2015</time>
    </span>





<span class="label label-default">Tags</span>
	<a href="https://foxmask.org/tag/django.html">Django</a>
        /
	<a href="https://foxmask.org/tag/python.html">python</a>
        /
	<a href="https://foxmask.org/tag/triggerhappy.html">TriggerHappy</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>Bonjour,<br>
Voici venue une petite mise à jour de mon petit projet, de micro ESB,
permettant d'orchestrer la récupération de données et leur publication,
le tout en exploitant vos propres services internet (comme Twitter pour
n'en citer qu'un). Juste histoire d'être maître de vos données sans
devoir donner vos autorisations d'accès à n'importe qui.<br>
(<a href="http://trigger-happy.eu/static/django-paris-novembre-2014/">un rappel complet dispo à partir d'un talk @ django
Paris</a>)</p>
<p>Au programme des réjouissances :</p>
<ol>
<li>
**Nouveautés Fonctionnelles**

-   Il est à présent possible de **produire des flux RSS** à partir de
    données, récupérées par un autre service qu'on se sera installé.  
    [![Services
    Installés](/static/2015/08/service_installe.png)](/static/2015/08/service_installe.png)
    Par exemple à partir du service twitter. Classiquement on fait un
    trigger publiant sur twitter, tout ce qui provient d'un site par
    exemple, europe-echecs, pour suivre l'actu échiquéenne. À présent on
    peut faire l'inverse. Suivre un hashtag \#chess, par exemple, et
    tout ce qui sera publié sur ce sujet, finira par être généré dans un
    flux RSS par TriggerHappy. J'adresse un petit coucou aux amis
    esseulés de **[yahoo pipes](https://pipes.yahoo.com/pipes/)** pour
    qui j'ai fait ceci, avec un appel du pied de sam&max ;-)
    </p>
-   **Intégration d'un nouveau service** :
    **[Trello](http://coreight.com/content/utiliser-trello-comme-un-pro)**.
    Ce service permet de gérer des projets en créant des tableaux de
    bord et pour chaque tableau de bord des listes de cartes. Cartes de
    "trucs" à faire pour organiser son projet. Pour la petite histoire,
    lors de mes tests, j'ai suivi le hashtag \#django en créant un
    trigger qui devait publier dans Trello, mais comme mon code ne
    marchait mais immédiatement, le trigger a accumulé plus de 200
    tweets qui sont arrivés dans un tableau de bord dédié et je pouvais
    voir en live dans trello arrivés les tweets un par un :-). Ce qui
    ajoute un jouet de plus au trousseau de clés : Twitter, Evernote,
    RSS, Readability, Pocket, Trello
-   **Un moteur de recherche** (basé sur haystack & elasticsearch). Ça
    n'est pas forcément du luxe quand on fini par avoir un grand nombre
    de triggers, des questions existentielles surgissent "j'avais
    pourtant bien créé un trigger qui parlait de recettes de cuisine
    Bretonne" ;-)
-   Une fonction "**vacances**" qui désactive tous les triggers, pour se
    mettre au vert pour de bon pendant ses vacances ! Ensuite quand vous
    revenez de vacantes vous désactivez le mode "vacances" ce qui
    réactivera que les triggers actifs avant le départ.

</li>
<li>
**Améliorations Techniques**

-   Plus de python 2 nulle part. Ce qui m'a "forcé" à trouver des
    solutions d'authentification différentes de la librairie oauth2 pour
    les services tels readability et Evernote. Un mal pour un bien !
    [requests
    oauthlib](https://requests-oauthlib.readthedocs.org/en/latest/) est
    la solution comme chacun s'en doutera :-)
-   Django 1.8.x (naturellement)
-   Réorganisation des modules par services dans une seule application
    Plutôt que d'avoir un dépôt par module, j'ai fini par tout regrouper
    dans le dépôt trigger-happy. Actuellement c'est pratique pour
    releaser et pour les tests unitaires, mais mon petit doigt me dit
    qu'à un moment je m'en mordrai les doigts.
-   Gestion d'une limite du nombre de publications à destination d'un
    service. Exemple : je publie sur twitter plus de 30 sites que je
    suis. À un moment donné les news de chacun d'eux affluent tellement,
    que je publie trop vite des news sur twitter, ce qui a pour effet de
    bord, de "pourrir" la timeline de mes amis followers, qui au lieu
    d'avoir une timeline hétérogène finisse par me haïr de publier plus
    vite que Lucky Luke. À présent "ça", c'est fini. On défini une
    limite et quand elle est atteinte on publie le reste plus tard,
    tranquille pépère.

</li>
<li>
**Performances**

-   je suis un éternel insatisfait de ce que je produis, même quand je
    fini un truc je me dis que je peux largement encore mieux faire.
    Dans cette optique donc, j'ai articulé le code en le basant sur le
    "[framework
    cache](https://docs.djangoproject.com/en/1.8/topics/cache/)" de
    django qui permet d'utiliser le backend de son choix. Ainsi, toute
    récupération de données des services est déposé dans le cache. Puis
    au moment de publier les données, TriggerHappy va le chercher dans
    le cache. Avant cela, tout était synchrone. [A
    présent](/post/2015/06/19/supervisor-celery-django-orchestration/)[Celery](http://celery.readthedocs.org/)
    orchestre ces récupérations de données et leurs publications</a>.

</li>
<li>
**[Documentation](http://trigger-happy.readthedocs.org/)**

-   mise à jour en long en large et en travers. N'hésitez pas un instant
    à la parcourir
-   Pour mettre à jour depuis la version précédente [tout est ici, une
    migration qui m'a pris du temps à
    finaliser](http://trigger-happy.readthedocs.org/en/latest/migration.html)

</li>
<ul>
</ol>

<p>Et demain ? <a href="https://github.com/foxmask/django-th/labels/module">de nouveaux
services</a> sont
prévus, et <a href="https://github.com/foxmask/django-th/issues">quelques idées</a>
:)</p>
<p>J'en ai aussi profité pour réorganiser les tickets/labels/milestones sur
github, histoire de facilement trouver ce qu'on cherche, afin de
faciliter les
<a href="https://github.com/foxmask/django-th/blob/master/CONTRIBUTING.md">contributions</a>.</p>
<p><strong>Merci !</strong><br>
merci <a href="https://github.com/foxmask/django-th/stargazers">à quelques
intéressés</a>, <a href="https://github.com/foxmask/django-th/watchers">à
quelques curieux</a> et
enfin <a href="https://github.com/foxmask/django-th/graphs/contributors">aux
contributeurs</a>
qui s'essayent sur la pointe des pieds ;)</p>
<p>liens :</p>
<ul>
<li><a href="http://trigger-happy.eu">Trigger Happy</a> page d'accueil</li>
<li><a href="https://github.com/foxmask/django-th">Trigger Happy</a> GitHub
    repository</li>
</ul>
            </div>
            <!-- /.entry-content -->
<section class="well" id="related-posts">
    <h4>Related Posts:</h4>
    <ul>
        <li><a href="https://foxmask.org/post/2015/08/24/shoot-an-arrow-with-ansible-in-the-triggerhappy-target/">Shoot an Arrow with Ansible in the TriggerHappy target</a></li>
        <li><a href="https://foxmask.org/post/2015/08/18/django-trigger-happy-0-11-0-english-version/">Django Trigger Happy 0.11.0 English Version</a></li>
        <li><a href="https://foxmask.org/post/2015/04/23/django-trigger-happy-0-10-x-and-his-friends/">Django Trigger Happy 0.10.x and his friends</a></li>
        <li><a href="https://foxmask.org/post/2015/04/21/django-trigger-happy-0-10-x-et-ses-amis/">Django Trigger Happy 0.10.x et ses amis</a></li>
        <li><a href="https://foxmask.org/post/2014/12/01/trigger-happy-creer-un-module/">Trigger Happy : Créer un module - la doc</a></li>
        <li><a href="https://foxmask.org/post/2014/11/27/django-paris-numa-novembre-2014-demo-live/">Django Paris - Novembre 2014 - Numa : Demo Live</a></li>
        <li><a href="https://foxmask.org/post/2014/10/22/django-trigger-happy-declenche-heureuse-rafale-maj/">Django Trigger Happy - déclenche une heureuse rafale de mises à jour</a></li>
        <li><a href="https://foxmask.org/post/2014/05/14/django-trigger-happy-0-9-0-is-la-python-3-4-0/">Django Trigger Happy 0.9.0 is là et Python 3.4.0</a></li>
    </ul>
</section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<!-- Sidebar -->
<section class="well well-sm">
  <ul class="list-group list-group-flush">

<!-- Sidebar/Tag Cloud -->
<li class="list-group-item">
  <a href="https://foxmask.org/"><h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Tags</span></h4></a>
  <ul class="list-group list-inline tagcloud" id="tags">
    <li class="list-group-item tag-4">
      <a href="https://foxmask.org/tag/ansible.html">ansible</a>
    </li>
    <li class="list-group-item tag-1">
      <a href="https://foxmask.org/tag/apachemysqlphp.html">ApacheMySqlPHP</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://foxmask.org/tag/autobahn.html">autobahn</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://foxmask.org/tag/crossbar.html">crossbar</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://foxmask.org/tag/debian.html">debian</a>
    </li>
    <li class="list-group-item tag-1">
      <a href="https://foxmask.org/tag/django.html">django</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://foxmask.org/tag/evernote.html">Evernote</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://foxmask.org/tag/fabric.html">Fabric</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://foxmask.org/tag/havefnubb.html">HaveFnuBB</a>
    </li>
    <li class="list-group-item tag-1">
      <a href="https://foxmask.org/tag/jelix.html">Jelix</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://foxmask.org/tag/korea.html">Korea</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://foxmask.org/tag/linux.html">linux</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://foxmask.org/tag/oracle.html">oracle</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://foxmask.org/tag/pelican.html">pelican</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://foxmask.org/tag/pycharm.html">PyCharm</a>
    </li>
    <li class="list-group-item tag-1">
      <a href="https://foxmask.org/tag/python.html">python</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://foxmask.org/tag/pythonerie.html">pythonerie</a>
    </li>
    <li class="list-group-item tag-1">
      <a href="https://foxmask.org/tag/triggerhappy.html">TriggerHappy</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://foxmask.org/tag/wallabag.html">wallabag</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://foxmask.org/tag/wampws.html">wampws</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Tag Cloud -->

<!-- Sidebar/Links -->
<li class="list-group-item">
  <h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
  <ul class="list-group" id="links">
    <li class="list-group-item">
      <a href="/feeds/all.rss.xml" target="_blank">FoxMaSk RSS</a>
    </li>
    <li class="list-group-item">
      <a href="https://python.org/" target="_blank">Python</a>
    </li>
    <li class="list-group-item">
      <a href="https://pycon.fr/" target="_blank">PyConFr</a>
    </li>
    <li class="list-group-item">
      <a href="https://pycon.kr/" target="_blank">PyConKr</a>
    </li>
    <li class="list-group-item">
      <a href="https://www.djangoproject.com/" target="_blank">Django</a>
    </li>
    <li class="list-group-item">
      <a href="https://www.django-rest-framework.org/" target="_blank">DRF</a>
    </li>
    <li class="list-group-item">
      <a href="https://www.ansible.com/" target="_blank">Ansible</a>
    </li>
    <li class="list-group-item">
      <a href="https://www.coree-culture.org/?lang=fr" target="_blank">Centre Culturel Coréen</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Links -->
  </ul>
</section>
<!-- End Sidebar -->            </aside>
        </div>
    </div>
</div>
<!-- End Content Container -->

<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2021 FoxMaSk
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>              <p><small>Unless otherwise stated, all articles are published under the <a href="http://www.wtfpl.net/about/">WTFPL</a> license.</small></p>
         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="https://foxmask.org/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="https://foxmask.org/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="https://foxmask.org/theme/js/respond.min.js"></script>


    <script src="https://foxmask.org/theme/js/bodypadding.js"></script>


</body>
</html>