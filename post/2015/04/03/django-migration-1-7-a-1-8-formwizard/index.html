<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Django Migration 1.7 à 1.8, FormWizard, InlineFormSet, Url from Future - Le Free de la Passion</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="https://foxmask.net/post/2015/04/03/django-migration-1-7-a-1-8-formwizard/">

        <meta name="author" content="foxmask" />
        <meta name="keywords" content="Django,TriggerHappy" />
        <meta name="description" content="Même si la la doc est superbement complète, je m&#39;en vais vous narrer ci et là les surprises qui ont jonché le chemin de ma migration Comme tout à chacun j&#39;ai donc fait : pip install -U django ... ./manage.py test Je suis tombé sur des erreurs sur django-debug-toolbar parce que …" />

        <meta property="og:site_name" content="Le Free de la Passion" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Django Migration 1.7 à 1.8, FormWizard, InlineFormSet, Url from Future"/>
        <meta property="og:url" content="https://foxmask.net/post/2015/04/03/django-migration-1-7-a-1-8-formwizard/"/>
        <meta property="og:description" content="Même si la la doc est superbement complète, je m&#39;en vais vous narrer ci et là les surprises qui ont jonché le chemin de ma migration Comme tout à chacun j&#39;ai donc fait : pip install -U django ... ./manage.py test Je suis tombé sur des erreurs sur django-debug-toolbar parce que …"/>
        <meta property="article:published_time" content="2015-04-03" />
            <meta property="article:section" content="Techno" />
            <meta property="article:tag" content="Django" />
            <meta property="article:tag" content="TriggerHappy" />
            <meta property="article:author" content="foxmask" />



    <!-- Bootstrap -->
        <link rel="stylesheet" href="https://foxmask.net/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="https://foxmask.net/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="https://foxmask.net/theme/css/pygments/native.css" rel="stylesheet">
    <link href="https://foxmask.net/theme/tipuesearch/tipuesearch.css" rel="stylesheet">
    <link rel="stylesheet" href="https://foxmask.net/theme/css/style.css" type="text/css"/>

        <link href="https://foxmask.net/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Le Free de la Passion ATOM Feed"/>

        <link href="https://foxmask.net/feeds/all.rss.xml" type="application/rss+xml" rel="alternate"
              title="Le Free de la Passion RSS Feed"/>


        <link href="https://foxmask.net/feeds/techno.atom.xml" type="application/atom+xml" rel="alternate"
              title="Le Free de la Passion Techno ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="https://foxmask.net/" class="navbar-brand">
Le Free de la Passion            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="https://foxmask.net/pages/a-propos">
                             À propos
                          </a></li>
                        <li >
                            <a href="https://foxmask.net/category/entrevues.html">Entrevues</a>
                        </li>
                        <li >
                            <a href="https://foxmask.net/category/games.html">Games</a>
                        </li>
                        <li >
                            <a href="https://foxmask.net/category/general.html">General</a>
                        </li>
                        <li >
                            <a href="https://foxmask.net/category/news.html">News</a>
                        </li>
                        <li class="active">
                            <a href="https://foxmask.net/category/techno.html">Techno</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><span>
                <form class="navbar-search" action="/search.html">
                  <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input" required>
                </form></span>
              </li>
              <li><a href="https://foxmask.net/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="https://foxmask.net/post/2015/04/03/django-migration-1-7-a-1-8-formwizard/"
                       rel="bookmark"
                       title="Permalink to Django Migration 1.7 à 1.8, FormWizard, InlineFormSet, Url from Future">
                        Django Migration 1.7 à 1.8, FormWizard, InlineFormSet, Url from Future
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2015-04-03T11:41:00+02:00"> ven. 03 avril 2015</time>
    </span>





<span class="label label-default">Tags</span>
	<a href="https://foxmask.net/tag/django.html">Django</a>
        /
	<a href="https://foxmask.net/tag/triggerhappy.html">TriggerHappy</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>Même si la la doc est superbement complète, je m'en vais vous narrer ci
et là les surprises qui ont jonché le chemin de ma migration</p>
<p>Comme tout à chacun j'ai donc fait :</p>
<div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="o">-</span><span class="n">U</span> <span class="n">django</span> 
<span class="o">...</span>
<span class="o">./</span><span class="n">manage</span><span class="o">.</span><span class="n">py</span> <span class="n">test</span>
</pre></div>


<p>Je suis tombé sur des erreurs sur django-debug-toolbar parce que resté
en 0.9.5, donc estompées dès la 1.3.0 mise à jour.</p>
<p>Puis vint des suées :</p>
<div class="highlight"><pre><span></span><span class="n">Traceback</span> <span class="p">(</span><span class="n">most</span> <span class="n">recent</span> <span class="n">call</span> <span class="n">last</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;./manage.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">10</span><span class="p">,</span> <span class="ow">in</span> 
    <span class="n">execute_from_command_line</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">)</span>
  <span class="n">File</span> <span class="s2">&quot;/home/foxmask/Django-VirtualEnv/django-trigger-happy/local/lib/python2.7/site-packages/django/core/management/__init__.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">338</span><span class="p">,</span> <span class="ow">in</span> <span class="n">execute_from_command_line</span>
    <span class="n">utility</span><span class="o">.</span><span class="n">execute</span><span class="p">()</span>
  <span class="n">File</span> <span class="s2">&quot;/home/foxmask/Django-VirtualEnv/django-trigger-happy/local/lib/python2.7/site-packages/django/core/management/__init__.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">312</span><span class="p">,</span> <span class="ow">in</span> <span class="n">execute</span>
    <span class="n">django</span><span class="o">.</span><span class="n">setup</span><span class="p">()</span>
  <span class="n">File</span> <span class="s2">&quot;/home/foxmask/Django-VirtualEnv/django-trigger-happy/local/lib/python2.7/site-packages/django/__init__.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">18</span><span class="p">,</span> <span class="ow">in</span> <span class="n">setup</span>
    <span class="n">apps</span><span class="o">.</span><span class="n">populate</span><span class="p">(</span><span class="n">settings</span><span class="o">.</span><span class="n">INSTALLED_APPS</span><span class="p">)</span>
  <span class="n">File</span> <span class="s2">&quot;/home/foxmask/Django-VirtualEnv/django-trigger-happy/local/lib/python2.7/site-packages/django/apps/registry.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">115</span><span class="p">,</span> <span class="ow">in</span> <span class="n">populate</span>
    <span class="n">app_config</span><span class="o">.</span><span class="n">ready</span><span class="p">()</span>
  <span class="n">File</span> <span class="s2">&quot;/home/foxmask/Django-VirtualEnv/django-trigger-happy/local/lib/python2.7/site-packages/debug_toolbar/apps.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">15</span><span class="p">,</span> <span class="ow">in</span> <span class="n">ready</span>
    <span class="n">dt_settings</span><span class="o">.</span><span class="n">patch_all</span><span class="p">()</span>
  <span class="n">File</span> <span class="s2">&quot;/home/foxmask/Django-VirtualEnv/django-trigger-happy/local/lib/python2.7/site-packages/debug_toolbar/settings.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">232</span><span class="p">,</span> <span class="ow">in</span> <span class="n">patch_all</span>
    <span class="n">patch_root_urlconf</span><span class="p">()</span>
  <span class="n">File</span> <span class="s2">&quot;/home/foxmask/Django-VirtualEnv/django-trigger-happy/local/lib/python2.7/site-packages/debug_toolbar/settings.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">220</span><span class="p">,</span> <span class="ow">in</span> <span class="n">patch_root_urlconf</span>
    <span class="n">reverse</span><span class="p">(</span><span class="s1">&#39;djdt:render_panel&#39;</span><span class="p">)</span>
  <span class="n">File</span> <span class="s2">&quot;/home/foxmask/Django-VirtualEnv/django-trigger-happy/local/lib/python2.7/site-packages/django/core/urlresolvers.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">550</span><span class="p">,</span> <span class="ow">in</span> <span class="n">reverse</span>
    <span class="n">app_list</span> <span class="o">=</span> <span class="n">resolver</span><span class="o">.</span><span class="n">app_dict</span><span class="p">[</span><span class="n">ns</span><span class="p">]</span>
  <span class="n">File</span> <span class="s2">&quot;/home/foxmask/Django-VirtualEnv/django-trigger-happy/local/lib/python2.7/site-packages/django/core/urlresolvers.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">352</span><span class="p">,</span> <span class="ow">in</span> <span class="n">app_dict</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_populate</span><span class="p">()</span>
  <span class="n">File</span> <span class="s2">&quot;/home/foxmask/Django-VirtualEnv/django-trigger-happy/local/lib/python2.7/site-packages/django/core/urlresolvers.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">285</span><span class="p">,</span> <span class="ow">in</span> <span class="n">_populate</span>
    <span class="k">for</span> <span class="n">pattern</span> <span class="ow">in</span> <span class="nb">reversed</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">url_patterns</span><span class="p">):</span>
  <span class="n">File</span> <span class="s2">&quot;/home/foxmask/Django-VirtualEnv/django-trigger-happy/local/lib/python2.7/site-packages/django/core/urlresolvers.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">402</span><span class="p">,</span> <span class="ow">in</span> <span class="n">url_patterns</span>
    <span class="n">patterns</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">urlconf_module</span><span class="p">,</span> <span class="s2">&quot;urlpatterns&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">urlconf_module</span><span class="p">)</span>
  <span class="n">File</span> <span class="s2">&quot;/home/foxmask/Django-VirtualEnv/django-trigger-happy/local/lib/python2.7/site-packages/django/core/urlresolvers.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">396</span><span class="p">,</span> <span class="ow">in</span> <span class="n">urlconf_module</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">_urlconf_module</span> <span class="o">=</span> <span class="n">import_module</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">urlconf_name</span><span class="p">)</span>
  <span class="n">File</span> <span class="s2">&quot;/usr/lib/python2.7/importlib/__init__.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">37</span><span class="p">,</span> <span class="ow">in</span> <span class="n">import_module</span>
    <span class="nb">__import__</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
  <span class="n">File</span> <span class="s2">&quot;/home/foxmask/Django-VirtualEnv/django-trigger-happy/django_th/django_th/urls.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">9</span><span class="p">,</span> <span class="ow">in</span> 
    <span class="kn">from</span> <span class="nn">django_th.views</span> <span class="kn">import</span> <span class="n">TriggerListView</span><span class="p">,</span> <span class="n">TriggerDeleteView</span><span class="p">,</span>   
 <span class="n">File</span> <span class="s2">&quot;/home/foxmask/Django-VirtualEnv/django-trigger-happy/django_th/django_th/views.py&quot;</span><span class="p">,</span> <span class="n">line</span> <span class="mi">13</span><span class="p">,</span> <span class="ow">in</span> 
    <span class="kn">from</span> <span class="nn">django.contrib.formtools.wizard.views</span> <span class="kn">import</span> <span class="n">SessionWizardView</span>
<span class="ne">ImportError</span><span class="p">:</span> <span class="n">No</span> <span class="n">module</span> <span class="n">named</span> <span class="n">formtools</span><span class="o">.</span><span class="n">wizard</span><span class="o">.</span><span class="n">views</span>
</pre></div>


<p>Alors là, le désagrément majeure pour bibi et "<a href="http://trigger-happy.eu">Trigger
Happy</a>", c'est que toutes mes pages permettant
de créer des services, reposent entierement sur le Wizard...</p>
<p><a href="https://docs.djangoproject.com/en/1.8/ref/contrib/formtools/">En creusant la
doc</a> on
apprend que les wizard sont sortis des contrib pour devenir une app à
part : <a href="http://django-formtools.readthedocs.org/en/latest/">Formtools</a></p>
<p>Il faut donc ajouter <code>"formtools"</code> au <code>INSTALLED_APPS</code> après avoir fait
un</p>
<div class="highlight"><pre><span></span><span class="n">pip</span> <span class="n">install</span> <span class="n">django</span><span class="o">-</span><span class="n">formtools</span>
</pre></div>


<p>Puis on relance les tests :</p>
<div class="highlight"><pre><span></span> <span class="o">./</span><span class="n">manage</span><span class="o">.</span><span class="n">py</span> <span class="n">test</span>
<span class="n">Creating</span> <span class="n">test</span> <span class="n">database</span> <span class="k">for</span> <span class="n">alias</span> <span class="s1">&#39;default&#39;</span><span class="o">...</span>
<span class="o">........................................</span>
<span class="o">----------------------------------------------------------------------</span>
<span class="n">Ran</span> <span class="mi">40</span> <span class="n">tests</span> <span class="ow">in</span> <span class="mf">1.998</span><span class="n">s</span>

<span class="n">OK</span>
<span class="n">Destroying</span> <span class="n">test</span> <span class="n">database</span> <span class="k">for</span> <span class="n">alias</span> <span class="s1">&#39;default&#39;</span><span class="o">...</span>
</pre></div>


<p>ou avec un petit coup de</p>
<div class="highlight"><pre><span></span><span class="n">Creating</span> <span class="n">test</span> <span class="n">database</span> <span class="k">for</span> <span class="n">alias</span> <span class="s1">&#39;default&#39;</span> <span class="p">(</span><span class="s1">&#39;:memory:&#39;</span><span class="p">)</span><span class="o">...</span>
<span class="n">Operations</span> <span class="n">to</span> <span class="n">perform</span><span class="p">:</span>
  <span class="n">Synchronize</span> <span class="n">unmigrated</span> <span class="n">apps</span><span class="p">:</span> <span class="n">staticfiles</span><span class="p">,</span> <span class="n">django_th</span><span class="p">,</span> <span class="n">messages</span><span class="p">,</span> <span class="n">pocket</span><span class="p">,</span> <span class="n">th_rss</span><span class="p">,</span> <span class="n">django_js_reverse</span><span class="p">,</span> <span class="n">th_pocket</span><span class="p">,</span> <span class="n">debug_toolbar</span><span class="p">,</span> <span class="n">formtools</span>
  <span class="n">Apply</span> <span class="nb">all</span> <span class="n">migrations</span><span class="p">:</span> <span class="n">admin</span><span class="p">,</span> <span class="n">contenttypes</span><span class="p">,</span> <span class="n">auth</span><span class="p">,</span> <span class="n">sessions</span>
<span class="n">Synchronizing</span> <span class="n">apps</span> <span class="n">without</span> <span class="n">migrations</span><span class="p">:</span>
  <span class="n">Creating</span> <span class="n">tables</span><span class="o">...</span>
    <span class="n">Creating</span> <span class="n">table</span> <span class="n">django_th_servicesactivated</span>
    <span class="n">Creating</span> <span class="n">table</span> <span class="n">django_th_userprofile</span>
    <span class="n">Creating</span> <span class="n">table</span> <span class="n">django_th_userservice</span>
    <span class="n">Creating</span> <span class="n">table</span> <span class="n">django_th_triggerservice</span>
    <span class="n">Creating</span> <span class="n">table</span> <span class="n">django_th_rss</span>
    <span class="n">Creating</span> <span class="n">table</span> <span class="n">django_th_pocket</span>
    <span class="n">Running</span> <span class="n">deferred</span> <span class="n">SQL</span><span class="o">...</span>
  <span class="n">Installing</span> <span class="n">custom</span> <span class="n">SQL</span><span class="o">...</span>
<span class="n">Running</span> <span class="n">migrations</span><span class="p">:</span>
  <span class="n">Rendering</span> <span class="n">model</span> <span class="n">states</span><span class="o">...</span> <span class="n">DONE</span>
  <span class="n">Applying</span> <span class="n">contenttypes</span><span class="o">.</span><span class="mo">0001</span><span class="n">_initial</span><span class="o">...</span> <span class="n">OK</span>
  <span class="n">Applying</span> <span class="n">auth</span><span class="o">.</span><span class="mo">0001</span><span class="n">_initial</span><span class="o">...</span> <span class="n">OK</span>
  <span class="n">Applying</span> <span class="n">admin</span><span class="o">.</span><span class="mo">0001</span><span class="n">_initial</span><span class="o">...</span> <span class="n">OK</span>
  <span class="n">Applying</span> <span class="n">contenttypes</span><span class="o">.</span><span class="mo">0002</span><span class="n">_remove_content_type_name</span><span class="o">...</span> <span class="n">OK</span>
  <span class="n">Applying</span> <span class="n">auth</span><span class="o">.</span><span class="mo">0002</span><span class="n">_alter_permission_name_max_length</span><span class="o">...</span> <span class="n">OK</span>
  <span class="n">Applying</span> <span class="n">auth</span><span class="o">.</span><span class="mo">0003</span><span class="n">_alter_user_email_max_length</span><span class="o">...</span> <span class="n">OK</span>
  <span class="n">Applying</span> <span class="n">auth</span><span class="o">.</span><span class="mo">0004</span><span class="n">_alter_user_username_opts</span><span class="o">...</span> <span class="n">OK</span>
  <span class="n">Applying</span> <span class="n">auth</span><span class="o">.</span><span class="mo">0005</span><span class="n">_alter_user_last_login_null</span><span class="o">...</span> <span class="n">OK</span>
  <span class="n">Applying</span> <span class="n">auth</span><span class="o">.</span><span class="mo">0006</span><span class="n">_require_contenttypes_0002</span><span class="o">...</span> <span class="n">OK</span>
  <span class="n">Applying</span> <span class="n">sessions</span><span class="o">.</span><span class="mo">0001</span><span class="n">_initial</span><span class="o">...</span> <span class="n">OK</span>
<span class="n">test_servicesactivated</span> <span class="p">(</span><span class="n">django_th</span><span class="o">.</span><span class="n">tests</span><span class="o">.</span><span class="n">test_models_and_services</span><span class="o">.</span><span class="n">ServicesActivatedTest</span><span class="p">)</span> <span class="o">...</span> <span class="n">ok</span>
<span class="n">test_invalid_form</span> <span class="p">(</span><span class="n">django_th</span><span class="o">.</span><span class="n">tests</span><span class="o">.</span><span class="n">test_models_and_services</span><span class="o">.</span><span class="n">TriggerServiceTest</span><span class="p">)</span> <span class="o">...</span> <span class="n">ok</span>
<span class="n">test_triggerservice</span> <span class="p">(</span><span class="n">django_th</span><span class="o">.</span><span class="n">tests</span><span class="o">.</span><span class="n">test_models_and_services</span><span class="o">.</span><span class="n">TriggerServiceTest</span><span class="p">)</span> <span class="o">...</span> <span class="n">ok</span>
<span class="n">test_valid_form</span> <span class="p">(</span><span class="n">django_th</span><span class="o">.</span><span class="n">tests</span><span class="o">.</span><span class="n">test_models_and_services</span><span class="o">.</span><span class="n">TriggerServiceTest</span><span class="p">)</span> <span class="o">...</span> <span class="n">ok</span>
<span class="n">test_userprofile</span> <span class="p">(</span><span class="n">django_th</span><span class="o">.</span><span class="n">tests</span><span class="o">.</span><span class="n">test_models_and_services</span><span class="o">.</span><span class="n">UserProfileTest</span><span class="p">)</span> <span class="o">...</span> <span class="n">ok</span>
<span class="n">test_invalid_form</span> <span class="p">(</span><span class="n">django_th</span><span class="o">.</span><span class="n">tests</span><span class="o">.</span><span class="n">test_models_and_services</span><span class="o">.</span><span class="n">UserServiceTest</span><span class="p">)</span> <span class="o">...</span> <span class="n">ok</span>
<span class="n">test_userservice</span> <span class="p">(</span><span class="n">django_th</span><span class="o">.</span><span class="n">tests</span><span class="o">.</span><span class="n">test_models_and_services</span><span class="o">.</span><span class="n">UserServiceTest</span><span class="p">)</span> <span class="o">...</span> <span class="n">ok</span>
<span class="n">test_valid_form</span> <span class="p">(</span><span class="n">django_th</span><span class="o">.</span><span class="n">tests</span><span class="o">.</span><span class="n">test_models_and_services</span><span class="o">.</span><span class="n">UserServiceTest</span><span class="p">)</span> <span class="o">...</span> <span class="n">ok</span>
<span class="n">test_get</span> <span class="p">(</span><span class="n">django_th</span><span class="o">.</span><span class="n">tests</span><span class="o">.</span><span class="n">test_views</span><span class="o">.</span><span class="n">TriggerDeletedTemplateViewTestCase</span><span class="p">)</span> <span class="o">...</span> <span class="n">ok</span>
<span class="n">test_get</span> <span class="p">(</span><span class="n">django_th</span><span class="o">.</span><span class="n">tests</span><span class="o">.</span><span class="n">test_views</span><span class="o">.</span><span class="n">TriggerEditedTemplateViewTestCase</span><span class="p">)</span> <span class="o">...</span> <span class="n">ok</span>
<span class="n">test_context_data</span> <span class="p">(</span><span class="n">django_th</span><span class="o">.</span><span class="n">tests</span><span class="o">.</span><span class="n">test_views</span><span class="o">.</span><span class="n">TriggerListViewTestCase</span><span class="p">)</span> <span class="o">...</span> <span class="n">ok</span>
<span class="n">test_get</span> <span class="p">(</span><span class="n">django_th</span><span class="o">.</span><span class="n">tests</span><span class="o">.</span><span class="n">test_views</span><span class="o">.</span><span class="n">UserServiceAddedTemplateViewTestCase</span><span class="p">)</span> <span class="o">...</span> <span class="n">ok</span>
<span class="n">test_get</span> <span class="p">(</span><span class="n">django_th</span><span class="o">.</span><span class="n">tests</span><span class="o">.</span><span class="n">test_views</span><span class="o">.</span><span class="n">UserServiceDeletedTemplateViewTestCase</span><span class="p">)</span> <span class="o">...</span> <span class="n">ok</span>
<span class="n">test_context_data</span> <span class="p">(</span><span class="n">django_th</span><span class="o">.</span><span class="n">tests</span><span class="o">.</span><span class="n">test_views</span><span class="o">.</span><span class="n">UserServiceListViewTestCase</span><span class="p">)</span> <span class="o">...</span> <span class="n">ok</span>

<span class="o">----------------------------------------------------------------------</span>
<span class="n">Ran</span> <span class="mi">14</span> <span class="n">tests</span> <span class="ow">in</span> <span class="mf">0.889</span><span class="n">s</span>

<span class="n">OK</span>
<span class="n">Destroying</span> <span class="n">test</span> <span class="n">database</span> <span class="k">for</span> <span class="n">alias</span> <span class="s1">&#39;default&#39;</span> <span class="p">(</span><span class="s1">&#39;:memory:&#39;</span><span class="p">)</span><span class="o">...</span>
</pre></div>


<p><a href="https://docs.djangoproject.com/en/dev/internals/release-process/#internal-release-deprecation-policy">si vous voulez voir la politique de dépréciation de
Django</a>.
Bon je n'y ai pas trouvé le "pourquoi" cette "contrib", à l'origine,
avait été retirée à présent.</p>
<p>Le billet évoluera probablement plus tard selon mes aventures sur le
sujet ;)</p>
<p><strong>Edit du 10/04 (minuit:)</strong><br>
les <code>inlineformset_factory</code> ayant évolués, il n'est à présent plus
possible de spécifier ET <code>form_class</code> ET <code>fields</code> dans la vue, c'est
l'un ou l'autre voire même que dalle si dans le <code>inlineformset_factory</code>
on colle le nom des fields qui nous interessent. <a href="https://docs.djangoproject.com/en/dev/topics/forms/modelforms/#inline-formsets">tout dans la
doc</a>
;)</p>
<p><a href="https://docs.djangoproject.com/en/1.7/topics/forms/modelforms/#inline-formsets">De même en 1.7 on pouvait se contenter
d'écrire</a>
:</p>
<div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">django.db</span> <span class="kn">import</span> <span class="n">models</span>

<span class="k">class</span> <span class="nc">Author</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">name</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="k">class</span> <span class="nc">Book</span><span class="p">(</span><span class="n">models</span><span class="o">.</span><span class="n">Model</span><span class="p">):</span>
    <span class="n">author</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">ForeignKey</span><span class="p">(</span><span class="n">Author</span><span class="p">)</span>
    <span class="n">title</span> <span class="o">=</span> <span class="n">models</span><span class="o">.</span><span class="n">CharField</span><span class="p">(</span><span class="n">max_length</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>

<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">django.forms.models</span> <span class="kn">import</span> <span class="n">inlineformset_factory</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">BookFormSet</span> <span class="o">=</span> <span class="n">inlineformset_factory</span><span class="p">(</span><span class="n">Author</span><span class="p">,</span> <span class="n">Book</span><span class="p">)</span>
</pre></div>


<p>mais ceci ne va plus du tout, il faut bien spécifier une liste de fields
pleine ou vide (si ca vous chante:)</p>
<div class="highlight"><pre><span></span><span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">django.forms.models</span> <span class="kn">import</span> <span class="n">inlineformset_factory</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">BookFormSet</span> <span class="o">=</span> <span class="n">inlineformset_factory</span><span class="p">(</span><span class="n">Author</span><span class="p">,</span> <span class="n">Book</span><span class="p">,</span> <span class="n">fields</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;title&#39;</span><span class="p">,))</span>
</pre></div>


<p><strong>edit du 12/04</strong><br>
une nouvelle erreur qui saute aux yeux :</p>
<div class="highlight"><pre><span></span><span class="o">/</span><span class="n">home</span><span class="o">/</span><span class="n">foxmask</span><span class="o">/</span><span class="n">Django</span><span class="o">-</span><span class="n">VirtualEnv</span><span class="o">/</span><span class="n">django</span><span class="o">-</span><span class="n">trigger</span><span class="o">-</span><span class="n">happy</span><span class="o">/</span><span class="n">local</span><span class="o">/</span><span class="n">lib</span><span class="o">/</span><span class="n">python2</span><span class="o">.</span><span class="mi">7</span><span class="o">/</span><span class="n">site</span><span class="o">-</span><span class="n">packages</span><span class="o">/</span><span class="n">django</span><span class="o">/</span><span class="n">templatetags</span><span class="o">/</span><span class="n">future</span><span class="o">.</span><span class="n">py</span><span class="p">:</span><span class="mi">25</span><span class="p">:</span> <span class="n">RemovedInDjango19Warning</span><span class="p">:</span> <span class="n">Loading</span> <span class="n">the</span> <span class="sb">`url`</span> <span class="n">tag</span> <span class="kn">from</span> <span class="nn">the</span> <span class="sb">`future`</span> <span class="n">library</span> <span class="ow">is</span> <span class="n">deprecated</span> <span class="ow">and</span> <span class="n">will</span> <span class="n">be</span> <span class="n">removed</span> <span class="ow">in</span> <span class="n">Django</span> <span class="mf">1.9</span><span class="o">.</span> <span class="n">Use</span> <span class="n">the</span> <span class="n">default</span> <span class="sb">`url`</span> <span class="n">tag</span> <span class="n">instead</span><span class="o">.</span>
  <span class="n">RemovedInDjango19Warning</span><span class="p">)</span>
</pre></div>


<p>celle ci est dûe à un</p>
<div class="highlight"><pre><span></span><span class="p">{</span><span class="o">%</span> <span class="n">load</span> <span class="n">url</span> <span class="kn">from</span> <span class="nn">future</span> <span class="o">%</span><span class="p">}</span>
</pre></div>


<p>dans les templates</p>
            </div>
            <!-- /.entry-content -->
<section class="well" id="related-posts">
    <h4>Related Posts:</h4>
    <ul>
        <li><a href="https://foxmask.net/post/2016/02/15/trigger-happy-running-softly-with-rq/">Trigger Happy running softly with RQ</a></li>
        <li><a href="https://foxmask.net/post/2015/10/02/trigger-happy-stats-requete-et-proposition/">Trigger-Happy, stats, requête et proposition</a></li>
        <li><a href="https://foxmask.net/post/2015/09/08/trigger-happy-de-tout-de-rien-la-vie/">Trigger Happy, de tout, de rien, la vie</a></li>
        <li><a href="https://foxmask.net/post/2015/08/24/shoot-an-arrow-with-ansible-in-the-triggerhappy-target/">Shoot an Arrow with Ansible in the TriggerHappy target</a></li>
        <li><a href="https://foxmask.net/post/2015/08/18/django-trigger-happy-0-11-0-english-version/">Django Trigger Happy 0.11.0 English Version</a></li>
    </ul>
</section>
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'foxmasktriggerhappyeu'; // required: replace example with your forum shortname

                    var disqus_identifier = 'django-migration-1-7-a-1-8-formwizard';
                var disqus_url = 'https://foxmask.net/post/2015/04/03/django-migration-1-7-a-1-8-formwizard/';

            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<!-- Sidebar -->
<section class="well well-sm">
  <ul class="list-group list-group-flush">

<!-- Sidebar/Tag Cloud -->
<li class="list-group-item">
  <a href="https://foxmask.net/"><h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Tags</span></h4></a>
  <ul class="list-group list-inline tagcloud" id="tags">
    <li class="list-group-item tag-4">
      <a href="https://foxmask.net/tag/ansible.html">ansible</a>
    </li>
    <li class="list-group-item tag-1">
      <a href="https://foxmask.net/tag/apachemysqlphp.html">ApacheMySqlPHP</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://foxmask.net/tag/autobahn.html">autobahn</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://foxmask.net/tag/crossbar.html">crossbar</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://foxmask.net/tag/debian.html">debian</a>
    </li>
    <li class="list-group-item tag-1">
      <a href="https://foxmask.net/tag/django.html">django</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://foxmask.net/tag/evernote.html">Evernote</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://foxmask.net/tag/fabric.html">Fabric</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://foxmask.net/tag/havefnubb.html">HaveFnuBB</a>
    </li>
    <li class="list-group-item tag-1">
      <a href="https://foxmask.net/tag/jelix.html">Jelix</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://foxmask.net/tag/joplin.html">Joplin</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://foxmask.net/tag/linux.html">linux</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://foxmask.net/tag/oracle.html">oracle</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://foxmask.net/tag/pelican.html">pelican</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://foxmask.net/tag/pycharm.html">PyCharm</a>
    </li>
    <li class="list-group-item tag-1">
      <a href="https://foxmask.net/tag/python.html">python</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://foxmask.net/tag/pythonerie.html">pythonerie</a>
    </li>
    <li class="list-group-item tag-1">
      <a href="https://foxmask.net/tag/triggerhappy.html">triggerhappy</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://foxmask.net/tag/wallabag.html">wallabag</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://foxmask.net/tag/wampws.html">wampws</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Tag Cloud -->

<!-- Sidebar/Github -->
<li class="list-group-item">
  <h4><i class="fa fa-github fa-lg"></i><span class="icon-label">GitHub Repos</span></h4>
  <div id="gh_repos">
    <p class="list-group-item">Status updating...</p>
  </div>
  <a href="https://github.com/foxmask">@foxmask</a> on GitHub
</li>
<!-- End Sidebar/Github -->

<!-- Sidebar/Links -->
<li class="list-group-item">
  <h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
  <ul class="list-group" id="links">
    <li class="list-group-item">
      <a href="http://sametmax.com" target="_blank">Sam et Max</a>
    </li>
    <li class="list-group-item">
      <a href="https://foxmask.net/feeds/all.rss.xml" target="_blank">RSS</a>
    </li>
    <li class="list-group-item">
      <a href="https://foxmask.net/feeds/all.atom.xml" target="_blank">Atom</a>
    </li>
    <li class="list-group-item">
      <a href="http://planetpython.org/" target="_blank">Python Planet</a>
    </li>
    <li class="list-group-item">
      <a href="http://django-planet.com/" target="_blank">Django Planet</a>
    </li>
    <li class="list-group-item">
      <a href="http://www.django-fr.org/planete/" target="_blank">Django-Fr Planet</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Links -->
  </ul>
</section>
<!-- End Sidebar -->            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2018 FoxMaSk
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>              <p><small>Unless otherwise stated, all articles are published under the <a href="http://www.wtfpl.net/about/">WTFPL</a> license.</small></p>
         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="https://foxmask.net/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="https://foxmask.net/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="https://foxmask.net/theme/js/respond.min.js"></script>


    <script src="https://foxmask.net/theme/js/bodypadding.js"></script>

<!-- GitHub JS Code -->
<script type="text/javascript">
$(document).ready(function () {
  if (!window.jXHR) {
    var jxhr = document.createElement('script');
    jxhr.type = 'text/javascript';
    jxhr.src = 'https://foxmask.net/theme/js/jXHR.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(jxhr, s);
  }

  github.showRepos({
    user: 'foxmask',
    count: 5,
    skip_forks: false,
    target: '#gh_repos'
  });
});
</script>
<script src="https://foxmask.net/theme/js/github.js" type="text/javascript"></script>
<!-- End GitHub JS Code -->
    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'foxmasktriggerhappyeu'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->


</body>
</html>