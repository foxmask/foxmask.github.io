<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Quand Django reste muet à vous rendre dingue - Le Free de la Passion</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="https://foxmask.github.io/post/2012/12/19/quand-django-reste-muet-a-vous-rendre-dingue/">

        <meta name="author" content="foxmask" />
        <meta name="keywords" content="Django" />
        <meta name="description" content="Voici un truc qui m&#39;a usé les nerfs (de noob mais pas que :P) avec Django. je me fais un template principale, con à souhait, dans lequel je fais un include, &#34;QQ la praline&#34;, comme suit : base.html {% load static %} {% load staticfiles %} {% load i18n %} {% load url from future %} [...] {% include &#34;mark_forum …" />

        <meta property="og:site_name" content="Le Free de la Passion" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Quand Django reste muet à vous rendre dingue"/>
        <meta property="og:url" content="https://foxmask.github.io/post/2012/12/19/quand-django-reste-muet-a-vous-rendre-dingue/"/>
        <meta property="og:description" content="Voici un truc qui m&#39;a usé les nerfs (de noob mais pas que :P) avec Django. je me fais un template principale, con à souhait, dans lequel je fais un include, &#34;QQ la praline&#34;, comme suit : base.html {% load static %} {% load staticfiles %} {% load i18n %} {% load url from future %} [...] {% include &#34;mark_forum …"/>
        <meta property="article:published_time" content="2012-12-19" />
            <meta property="article:section" content="Techno" />
            <meta property="article:tag" content="Django" />
            <meta property="article:author" content="foxmask" />



    <!-- Bootstrap -->
        <link rel="stylesheet" href="https://foxmask.github.io/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="https://foxmask.github.io/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="https://foxmask.github.io/theme/css/pygments/native.css" rel="stylesheet">
    <link href="https://foxmask.github.io/theme/tipuesearch/tipuesearch.css" rel="stylesheet">
    <link rel="stylesheet" href="https://foxmask.github.io/theme/css/style.css" type="text/css"/>

        <link href="https://foxmask.github.io/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Le Free de la Passion ATOM Feed"/>

        <link href="https://foxmask.github.io/feeds/all.rss.xml" type="application/rss+xml" rel="alternate"
              title="Le Free de la Passion RSS Feed"/>


        <link href="https://foxmask.github.io/feeds/{slug}.atom.xml" type="application/atom+xml" rel="alternate"
              title="Le Free de la Passion Techno ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="https://foxmask.github.io/" class="navbar-brand">
Le Free de la Passion            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="https://foxmask.github.io/pages/a-propos">
                             À propos
                          </a></li>
                        <li >
                            <a href="https://foxmask.github.io/category/entrevues.html">Entrevues</a>
                        </li>
                        <li >
                            <a href="https://foxmask.github.io/category/games.html">Games</a>
                        </li>
                        <li >
                            <a href="https://foxmask.github.io/category/general.html">General</a>
                        </li>
                        <li >
                            <a href="https://foxmask.github.io/category/news.html">News</a>
                        </li>
                        <li class="active">
                            <a href="https://foxmask.github.io/category/techno.html">Techno</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><span>
                <form class="navbar-search" action="/search.html">
                  <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input" required>
                </form></span>
              </li>
              <li><a href="https://foxmask.github.io/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="https://foxmask.github.io/post/2012/12/19/quand-django-reste-muet-a-vous-rendre-dingue/"
                       rel="bookmark"
                       title="Permalink to Quand Django reste muet à vous rendre dingue">
                        Quand Django reste muet à vous rendre dingue
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2012-12-19T22:59:00+01:00"> mer. 19 décembre 2012</time>
    </span>





<span class="label label-default">Tags</span>
	<a href="https://foxmask.github.io/tag/django.html">Django</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>Voici un truc qui m'a usé les nerfs (de noob mais pas que :P) avec
<a href="https://docs.djangoproject.com/" title="Django Project - the web framework for perfectionnists with deadline">Django</a>.</p>
<p>je me fais un template principale, con à souhait, dans lequel je fais un
include, "QQ la praline", comme suit :</p>
<p><strong>base.html</strong></p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="o">%</span> <span class="n">load</span> <span class="n">static</span> <span class="o">%</span><span class="p">}</span>
<span class="p">{</span><span class="o">%</span> <span class="n">load</span> <span class="n">staticfiles</span> <span class="o">%</span><span class="p">}</span>
<span class="p">{</span><span class="o">%</span> <span class="n">load</span> <span class="n">i18n</span> <span class="o">%</span><span class="p">}</span>
<span class="p">{</span><span class="o">%</span> <span class="n">load</span> <span class="n">url</span> <span class="kn">from</span> <span class="nn">future</span> <span class="o">%</span><span class="p">}</span>
<span class="p">[</span><span class="o">...</span><span class="p">]</span>
<span class="p">{</span><span class="o">%</span> <span class="n">include</span> <span class="s2">&quot;mark_forum.inc.html&quot;</span> <span class="o">%</span><span class="p">}</span>
</code></pre></div>


<p>dans <strong>mark_forum.inc.html</strong></p>
<div class="highlight"><pre><span></span><code>    <span class="p">{</span><span class="o">%</span> <span class="n">trans</span> <span class="s2">&quot;Mark all forum as read&quot;</span> <span class="o">%</span><span class="p">}</span>
    <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">current_id_forum</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">%</span><span class="p">}</span>
    <span class="p">{</span><span class="o">%</span> <span class="n">trans</span> <span class="s1">&#39;Mark this forum as read&#39;</span> <span class="o">%</span><span class="p">}</span>
    <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
    <span class="p">{</span><span class="o">%</span> <span class="n">trans</span> <span class="s1">&#39;Show new posts&#39;</span> <span class="o">%</span><span class="p">}</span>
    <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">current_id_forum</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">%</span><span class="p">}</span>
        <span class="p">{</span><span class="o">%</span> <span class="k">if</span> <span class="n">subscribed_to_this_forum</span> <span class="o">%</span><span class="p">}</span>
    <span class="p">{</span><span class="o">%</span> <span class="n">trans</span> <span class="s1">&#39;Unsubscribe to this forum&#39;</span> <span class="o">%</span><span class="p">}</span>
        <span class="p">{</span><span class="o">%</span> <span class="k">else</span> <span class="o">%</span><span class="p">}</span>
    <span class="p">{</span><span class="o">%</span> <span class="n">trans</span> <span class="s1">&#39;Subscribe to this forum&#39;</span> <span class="o">%</span><span class="p">}</span>
        <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
    <span class="p">{</span><span class="o">%</span> <span class="n">endif</span> <span class="o">%</span><span class="p">}</span>
</code></pre></div>


<p>je lance mon appli et dans la console, me saute aux yeux</p>
<div class="highlight"><pre><span></span><code>lib/python2.6/site-packages/django/template/defaulttags.py:1235: DeprecationWarning: The syntax <span class="k">for</span> the url template tag is changing. Load the <span class="sb">`</span>url<span class="sb">`</span> tag from the <span class="sb">`</span>future<span class="sb">`</span> tag library to start using the new behavior.
</code></pre></div>


<p>donc j'ajoute à <strong>mark_forum.inc.html</strong> (malgré l'ajout existant dans
l'index.html)</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="o">%</span> <span class="n">load</span> <span class="n">url</span> <span class="kn">from</span> <span class="nn">future</span> <span class="o">%</span><span class="p">}</span>
</code></pre></div>


<p>et je relance ... et là plus d'erreur dans la console ! Yeah !</p>
<p>je me dis nickel ca marche, avancons ! ... ben non.<br>
<strong>Aucun</strong> message d'erreur et le template que je tente d'inclure
affiche ... rien !</p>
<p>Donc je sors le scalpele et pars décortiquer tout le code du template.<br>
Je retire tout et colle un beau coucou à la place de tout le reste ;
qui s'affiche.<br>
Bon déjà je me dis ok je suis pas débile c'est bien comme ça que
l'inclusion marche (vin diou).<br>
Je rajoute mon premier noeud li et là re patatra plus rien ne
s'affiche...<br>
Comme le problème de syntaxe sur <em>url</em> n'est plus en cause je me dis
voyons <em>trans</em> et mettons une string pipo ~~alakon~~.</p>
<p>Et là Bingo ! Il me manque donc</p>
<div class="highlight"><pre><span></span><code><span class="p">{</span><span class="o">%</span> <span class="n">load</span> <span class="s2">&quot;i18n&quot;</span> <span class="o">%</span><span class="p">}</span>
</code></pre></div>


<p>J'avais imaginé que le template inclus récupérait le contexte parent et
donc le load que j'avais fait dans le index.html.... que néni... comme
pour le load url en fait.</p>
<p>Mais là où j'ai mis le temps c'est, comme je l'ai dit plus tôt AUCUN
message d'erreur me dit que je tente d'utiliser un "template tag" que je
n'ai pas chargé avant ... Une bosse grosse engueulade comme pour le
<em>load url from future</em> m'aurait largement aidé ;)</p>
<p>Là franchement c'est très bas de la part de Django :P</p>
<p>Si quelqu'un a une explication sur le mutisme de Django là dessus, je
lui en serai gré ;)</p>
            </div>
            <!-- /.entry-content -->
<section class="well" id="related-posts">
    <h4>Related Posts:</h4>
    <ul>
        <li><a href="https://foxmask.github.io/post/2020/09/08/nyuseu-news/">뉴스 - Nyuseu - News</a></li>
        <li><a href="https://foxmask.github.io/post/2020/05/01/trigger-happy-archive-yeoboseyo/">Trigger Happy archivé - Yeoboseyo !</a></li>
        <li><a href="https://foxmask.github.io/post/2019/05/02/de-django-a-starlette/">De django à starlette</a></li>
        <li><a href="https://foxmask.github.io/post/2017/07/10/fabric-contrib-django/">Fabric, et la contrib django pour acceder à tous vos joujoux</a></li>
        <li><a href="https://foxmask.github.io/post/2016/09/08/revue-technique-de-la-semaine-du-05092016/">Revue Technique de la semaine du 05/09/2016</a></li>
        <li><a href="https://foxmask.github.io/post/2016/07/03/django-et-https/">Django et HTTPS</a></li>
        <li><a href="https://foxmask.github.io/post/2016/03/23/actionform-django-a-la-rescousse/">ActionForm Django à la rescousse !</a></li>
        <li><a href="https://foxmask.github.io/post/2016/02/15/trigger-happy-running-softly-with-rq/">Trigger Happy running softly with RQ</a></li>
    </ul>
</section>
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'foxmasktriggerhappyeu'; // required: replace example with your forum shortname

                    var disqus_identifier = 'quand-django-reste-muet-a-vous-rendre-dingue';
                var disqus_url = 'https://foxmask.github.io/post/2012/12/19/quand-django-reste-muet-a-vous-rendre-dingue/';

            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<!-- Sidebar -->
<section class="well well-sm">
  <ul class="list-group list-group-flush">

<!-- Sidebar/Tag Cloud -->
<li class="list-group-item">
  <a href="https://foxmask.github.io/"><h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Tags</span></h4></a>
  <ul class="list-group list-inline tagcloud" id="tags">
    <li class="list-group-item tag-3">
      <a href="https://foxmask.github.io/tag/ansible.html">ansible</a>
    </li>
    <li class="list-group-item tag-1">
      <a href="https://foxmask.github.io/tag/apachemysqlphp.html">ApacheMySqlPHP</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://foxmask.github.io/tag/autobahn.html">autobahn</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://foxmask.github.io/tag/crossbar.html">crossbar</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://foxmask.github.io/tag/debian.html">debian</a>
    </li>
    <li class="list-group-item tag-1">
      <a href="https://foxmask.github.io/tag/django.html">Django</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://foxmask.github.io/tag/evernote.html">Evernote</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://foxmask.github.io/tag/fabric.html">Fabric</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://foxmask.github.io/tag/havefnubb.html">HaveFnuBB</a>
    </li>
    <li class="list-group-item tag-1">
      <a href="https://foxmask.github.io/tag/jelix.html">Jelix</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://foxmask.github.io/tag/linux.html">linux</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://foxmask.github.io/tag/oracle.html">oracle</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://foxmask.github.io/tag/pelican.html">pelican</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://foxmask.github.io/tag/pycharm.html">PyCharm</a>
    </li>
    <li class="list-group-item tag-1">
      <a href="https://foxmask.github.io/tag/python.html">python</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://foxmask.github.io/tag/pythonerie.html">pythonerie</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://foxmask.github.io/tag/starlette.html">Starlette</a>
    </li>
    <li class="list-group-item tag-1">
      <a href="https://foxmask.github.io/tag/triggerhappy.html">triggerhappy</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://foxmask.github.io/tag/wallabag.html">wallabag</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://foxmask.github.io/tag/wampws.html">wampws</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Tag Cloud -->

<!-- Sidebar/Github -->
<li class="list-group-item">
  <h4><i class="fa fa-github fa-lg"></i><span class="icon-label">GitHub Repos</span></h4>
  <div id="gh_repos">
    <p class="list-group-item">Status updating...</p>
  </div>
  <a href="https://github.com/foxmask">@foxmask</a> on GitHub
</li>
<!-- End Sidebar/Github -->

<!-- Sidebar/Links -->
<li class="list-group-item">
  <h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
  <ul class="list-group" id="links">
    <li class="list-group-item">
      <a href="/feeds/all.rss.xml" target="_blank">RSS</a>
    </li>
    <li class="list-group-item">
      <a href="/feeds/all.atom.xml" target="_blank">Atom</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Links -->
  </ul>
</section>
<!-- End Sidebar -->            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2020 FoxMaSk
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>              <p><small>Unless otherwise stated, all articles are published under the <a href="http://www.wtfpl.net/about/">WTFPL</a> license.</small></p>
         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="https://foxmask.github.io/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="https://foxmask.github.io/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="https://foxmask.github.io/theme/js/respond.min.js"></script>


    <script src="https://foxmask.github.io/theme/js/bodypadding.js"></script>

<!-- GitHub JS Code -->
<script type="text/javascript">
$(document).ready(function () {
  if (!window.jXHR) {
    var jxhr = document.createElement('script');
    jxhr.type = 'text/javascript';
    jxhr.src = 'https://foxmask.github.io/theme/js/jXHR.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(jxhr, s);
  }

  github.showRepos({
    user: 'foxmask',
    count: 5,
    skip_forks: false,
    target: '#gh_repos'
  });
});
</script>
<script src="https://foxmask.github.io/theme/js/github.js" type="text/javascript"></script>
<!-- End GitHub JS Code -->
    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'foxmasktriggerhappyeu'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->


</body>
</html>