<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>Django FormWizard Dynamique - Le Free de la Passion</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="https://www.foxmask.org/post/2013/10/07/django-formwizard-dynamique/">

        <meta name="author" content="foxmask" />
        <meta name="keywords" content="Django,python,TriggerHappy" />
        <meta name="description" content="Intro Ce billet aura pour but d&#39;illustrer une fonctionnalité de Django qu&#39;est le FormWizard. La particularité de ce dernier est qu&#39;on ne se contente pas d&#39;un formulaire, mais qu&#39;on veut en enchainer plusieurs comme par exemple pour passer une commande sur un site de e-commerce. Ça, ça se passe bien …" />

        <meta property="og:site_name" content="Le Free de la Passion" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="Django FormWizard Dynamique"/>
        <meta property="og:url" content="https://www.foxmask.org/post/2013/10/07/django-formwizard-dynamique/"/>
        <meta property="og:description" content="Intro Ce billet aura pour but d&#39;illustrer une fonctionnalité de Django qu&#39;est le FormWizard. La particularité de ce dernier est qu&#39;on ne se contente pas d&#39;un formulaire, mais qu&#39;on veut en enchainer plusieurs comme par exemple pour passer une commande sur un site de e-commerce. Ça, ça se passe bien …"/>
        <meta property="article:published_time" content="2013-10-07" />
            <meta property="article:section" content="Techno" />
            <meta property="article:tag" content="Django" />
            <meta property="article:tag" content="python" />
            <meta property="article:tag" content="TriggerHappy" />
            <meta property="article:author" content="foxmask" />



    <!-- Bootstrap -->
        <link rel="stylesheet" href="https://www.foxmask.org/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="https://www.foxmask.org/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="https://www.foxmask.org/theme/css/pygments/native.css" rel="stylesheet">
    <link rel="stylesheet" href="https://www.foxmask.org/theme/css/style.css" type="text/css"/>

        <link href="https://www.foxmask.org/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Le Free de la Passion ATOM Feed"/>

        <link href="https://www.foxmask.org/feeds/all.rss.xml" type="application/rss+xml" rel="alternate"
              title="Le Free de la Passion RSS Feed"/>
        <link href="https://www.foxmask.org/feeds/techno.atom.xml" type="application/atom+xml" rel="alternate"
              title="Le Free de la Passion Techno ATOM Feed"/>
</head>
<body>

<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="https://www.foxmask.org/" class="navbar-brand">
Le Free de la Passion            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="https://www.foxmask.org/pages/a-propos">
                             À propos
                          </a></li>
                        <li >
                            <a href="https://www.foxmask.org/category/games.html">Games</a>
                        </li>
                        <li >
                            <a href="https://www.foxmask.org/category/general.html">General</a>
                        </li>
                        <li >
                            <a href="https://www.foxmask.org/category/korea.html">Korea</a>
                        </li>
                        <li class="active">
                            <a href="https://www.foxmask.org/category/techno.html">Techno</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><a href="https://www.foxmask.org/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->

<!-- Banner -->
<!-- End Banner -->

<!-- Content Container -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="https://www.foxmask.org/post/2013/10/07/django-formwizard-dynamique/"
                       rel="bookmark"
                       title="Permalink to Django FormWizard Dynamique">
                        Django FormWizard Dynamique
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2013-10-07T16:54:00+02:00"> lun. 07 octobre 2013</time>
    </span>





<span class="label label-default">Tags</span>
	<a href="https://www.foxmask.org/tag/django.html">Django</a>
        /
	<a href="https://www.foxmask.org/tag/python.html">python</a>
        /
	<a href="https://www.foxmask.org/tag/triggerhappy.html">TriggerHappy</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <h2>Intro</h2>
<p>Ce billet aura pour but d'illustrer une fonctionnalité de
<a href="https://docs.djangoproject.com/" title="Django Framework">Django</a> qu'est le
<a href="https://docs.djangoproject.com/en/1.5/ref/contrib/formtools/form-wizard/" title="Django FormWizard">FormWizard</a>.</p>
<p>La particularité de ce dernier est qu'on ne se contente pas d'un
formulaire, mais qu'on veut en enchainer plusieurs comme par exemple
pour passer une commande sur un site de e-commerce.</p>
<p>Ça, ça se passe bien quand le scénario est figé dans le marbre et
qu'aucune déviance n'est possible, c'est à dire quand les étapes sont
connues d'avance.</p>
<p>Seulement arrive le moment où ce chemin tout tracé ne peut plus coller à
son besoin car les étapes qui suivent sont conditionnées par les étapes
courantes, comme dans la vie courante;)</p>
<p>Ainsi dans ce qui va suivre, je vais de nouveau aborder <a href="https://github.com/foxmask/django-th">Trigger
Happy</a>, ce petit projet, fait en
Django, permettant de grabber des info d'une source d'info de son choix
pour les envoyées vers un service tiers de son choix. Actuellement pour
rappel tout ce que le projet sait faire c'est récupérer des flux RSS et
envoyés ce qu'il a trouvé dans un carnet de note Evernote.</p>
<p>Le scénario était figé dans le marbre, il fallait bien commencé par un
embryon de bidule qui me permette d'éprouver la solution et
d'appréhender le framework ;) J'avais donc 3 pauvres pages :</p>
<ul>
<li>une pour le nom du site qui fournissait l'url du flux RSS et le flux
    RSS itself ;)</li>
<li>une seconde pour indiquer dans quel carnet stocker le flux dans
    Evernote</li>
<li>et la dernière, une description du "trigger" pour être en mesure de
    le modifier à posteriori.</li>
</ul>
<p>A présent que c'est fait, <a href="/post/2013/07/13/sondage-quels-services-utilisez-vous-le-plus/" title="Sondage : quels services utilisez vous le plus ?">suite à un
sondage</a>,
j'ai dû m'atteler à revoir le code, pour cette fois-ci le faire voler en
éclat et gérer le FormWizard, dynamiquement !</p>
<p>Mon scénario initial change de 2 pages de plus, mais restera à 5 pages
quoiqu'il arrive. Par ailleurs je connais 3 des 5 étapes d'avance :</p>
<ul>
<li>choisir un service qui fourni l'information</li>
<li>(*) nommer le service d'origine puis sélectionner l'information à
    utiliser</li>
<li>choisir un service qui stocke l'information</li>
<li>(*)indiquer où stocker l'information dans le service choisi à
    l'étape précédente</li>
<li>donner une description au trigger</li>
</ul>
<p>les informations statiques sont celles qui n'ont pas de (*).</p>
<p>Ceci étant dit, ne vous attendez donc pas dans la suite de ce billet à
voir le code traiter d'une quantité de formulaires fluctuant à votre
gré. Non, là on restera à 5 pages, toutes obligatoires.</p>
<h2>D'où je partais</h2>
<p>voici en peu de lignes, le résumé du wizard statique "avant" que je ne
le remanie:</p>
<p><strong>views.py</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">from</span> <span class="nn">th_rss.forms</span> <span class="kn">import</span> <span class="n">RssForm</span>
<span class="kn">from</span> <span class="nn">th_evernote.forms</span> <span class="kn">import</span> <span class="n">EvernoteForm</span>
<span class="kn">from</span> <span class="nn">django_th.forms.base</span> <span class="kn">import</span> <span class="n">ServicesDescriptionForm</span>

<span class="n">FORMS</span> <span class="o">=</span> <span class="p">[(</span><span class="s2">&quot;rss&quot;</span><span class="p">,</span> <span class="n">RssForm</span><span class="p">),</span>
         <span class="p">(</span><span class="s2">&quot;evernote&quot;</span><span class="p">,</span> <span class="n">EvernoteForm</span><span class="p">),</span>
         <span class="p">(</span><span class="s2">&quot;services&quot;</span><span class="p">,</span> <span class="n">ServicesDescriptionForm</span><span class="p">),</span> <span class="p">]</span>

<span class="n">TEMPLATES</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;0&#39;</span><span class="p">:</span> <span class="s1">&#39;rss/wz-rss-form.html&#39;</span><span class="p">,</span>
    <span class="s1">&#39;1&#39;</span><span class="p">:</span> <span class="s1">&#39;evernote/wz-evernote-form.html&#39;</span><span class="p">,</span>
    <span class="s1">&#39;2&#39;</span><span class="p">:</span> <span class="s1">&#39;services_wizard/wz-description.html&#39;</span><span class="p">}</span>


<span class="k">class</span> <span class="nc">UserServiceWizard</span><span class="p">(</span><span class="n">SessionWizardView</span><span class="p">):</span>
    <span class="n">instance</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="k">def</span> <span class="nf">get_form_instance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Provides us with an instance of the Project Model to save on completion</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">instance</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">instance</span> <span class="o">=</span> <span class="n">TriggerService</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">instance</span>

    <span class="k">def</span> <span class="nf">done</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">form_list</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Save info to the DB</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">trigger</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">instance</span>
        <span class="n">trigger</span><span class="o">.</span><span class="n">provider</span> <span class="o">=</span> <span class="n">UserService</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
            <span class="n">name</span><span class="o">=</span><span class="s1">&#39;ServiceRss&#39;</span><span class="p">,</span>
            <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>
        <span class="n">trigger</span><span class="o">.</span><span class="n">consummer</span> <span class="o">=</span> <span class="n">UserService</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s1">&#39;ServiceEvernote&#39;</span><span class="p">,</span>
                                                    <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>
        <span class="n">trigger</span><span class="o">.</span><span class="n">user</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">user</span>
        <span class="n">trigger</span><span class="o">.</span><span class="n">status</span> <span class="o">=</span> <span class="kc">True</span>
        <span class="c1"># save the trigger</span>
        <span class="n">trigger</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>
        <span class="c1">#...then create the related services from the wizard</span>
        <span class="k">for</span> <span class="n">form</span> <span class="ow">in</span> <span class="n">form_list</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s1">&#39;my_form_is&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;rss&#39;</span><span class="p">:</span>
                <span class="kn">from</span> <span class="nn">th_rss.models</span> <span class="kn">import</span> <span class="n">Rss</span>
                <span class="n">Rss</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">],</span>
                    <span class="n">url</span><span class="o">=</span><span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s1">&#39;url&#39;</span><span class="p">],</span>
                    <span class="n">status</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">trigger</span><span class="o">=</span><span class="n">trigger</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s1">&#39;my_form_is&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;evernote&#39;</span><span class="p">:</span>
                <span class="kn">from</span> <span class="nn">th_evernote.models</span> <span class="kn">import</span> <span class="n">Evernote</span>
                <span class="n">Evernote</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span>
                    <span class="n">tag</span><span class="o">=</span><span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s1">&#39;tag&#39;</span><span class="p">],</span>
                    <span class="n">notebook</span><span class="o">=</span><span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span><span class="p">[</span><span class="s1">&#39;notebook&#39;</span><span class="p">],</span>
                    <span class="n">status</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span>
                    <span class="n">trigger</span><span class="o">=</span><span class="n">trigger</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">HttpResponseRedirect</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
</code></pre></div>

<p>Comme on le voit ici, tout est purement statique, ça marche pour ce que
ça fait mais il n'est pas du tout possible d'étendre les fonctionnalités
de l'application en pluggant un pauvre module de plus.</p>
<h2>Où je suis parti</h2>
<p>Ce qui suit m'a permit de modifier le FormWizard à la volée en
interceptant les données saisies dans la page de choix des services.<br>
<strong>urls.py</strong><br>
tout d'abord j'ai mis les formulaires de mon wizard dans urls.py comme
ceci:</p>
<div class="highlight"><pre><span></span><code>    <span class="n">url</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^service/create/$&#39;</span><span class="p">,</span>
        <span class="n">UserServiceWizard</span><span class="o">.</span><span class="n">as_view</span><span class="p">([</span><span class="n">ProviderForm</span><span class="p">,</span>
                                   <span class="n">DummyForm</span><span class="p">,</span>
                                   <span class="n">ConsummerForm</span><span class="p">,</span>
                                   <span class="n">DummyForm</span><span class="p">,</span>
                                   <span class="n">ServicesDescriptionForm</span><span class="p">]),</span>
</code></pre></div>

<p>si ca vous botte vous pouvez aussi la jouer comme ceci :</p>
<div class="highlight"><pre><span></span><code>    <span class="n">url</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;^service/create/$&#39;</span><span class="p">,</span>
        <span class="n">UserServiceWizard</span><span class="o">.</span><span class="n">as_view</span><span class="p">(</span><span class="s1">&#39;django_th.views.get_my_form_list&#39;</span><span class="p">),</span>
</code></pre></div>

<p>et définir une methode get_my_form_list() dans votre views.py et
l'appeler dans l'__init__ de votre FormWizard.</p>
<p>Ici on notera que j'ai noté sciemment 2 fois DummyForm.<br>
L'intéret est tout con, quand le wizard se déroule il vous indique en
haut de chaque page:</p>
<ul>
<li>etape 1/5</li>
<li>etape 2/5</li>
<li>etape 3/5</li>
<li>etape 4/5</li>
<li>etape 5/5</li>
</ul>
<p>Donc si je ne mets pas des "faux" Form je vais avoir mon wizard qui
m'affichera 1/3,2/3,3/3,3/3,3/3, et ca sera le bordel dans le traitement
qui s'en suivra.</p>
<p>On notera aussi que je n'ai pas mis DummyForm 2 fois au pifomètre, non
!<br>
C'est à ces endroits que je les remplacerai par les form des services
choisis dans ProviderForm et ConsummerForm.</p>
<p>Voici à présent le FormWizard :<br>
<strong>views.py</strong></p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">importlib</span>
<span class="k">def</span> <span class="nf">class_for_name</span><span class="p">(</span><span class="n">module_name</span><span class="p">,</span> <span class="n">class_name</span><span class="p">):</span>
<span class="w">   </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">      import the class from the given module and class</span>
<span class="sd">   &quot;&quot;&quot;</span> 
   <span class="n">m</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="n">module_name</span><span class="p">)</span>
   <span class="n">c</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">class_name</span><span class="p">)</span>
   <span class="k">return</span> <span class="n">c</span>

<span class="k">class</span> <span class="nc">UserServiceWizard</span><span class="p">(</span><span class="n">SessionWizardView</span><span class="p">):</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">form_list</span> <span class="o">=</span> <span class="n">kwargs</span><span class="o">.</span><span class="n">pop</span><span class="p">(</span><span class="s1">&#39;form_list&#39;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">UserServiceWizard</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">get_form_instance</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step</span><span class="p">):</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">instance</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">instance</span> <span class="o">=</span> <span class="n">UserService</span><span class="p">()</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">instance</span>

    <span class="k">def</span> <span class="nf">get_context_data</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">form</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_cleaned_data_for_step</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">get_prev_step</span><span class="p">(</span>
                                                    <span class="bp">self</span><span class="o">.</span><span class="n">steps</span><span class="o">.</span><span class="n">current</span><span class="p">))</span>
        <span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">steps</span><span class="o">.</span><span class="n">current</span> <span class="o">==</span> <span class="s1">&#39;1&#39;</span><span class="p">:</span>
            <span class="n">service_name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;provider&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;Service&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
            <span class="c1">#services are named th_</span>
            <span class="c1">#call of the dedicated ProviderForm</span>
            <span class="n">form</span> <span class="o">=</span> <span class="n">class_for_name</span><span class="p">(</span><span class="s1">&#39;th_&#39;</span> <span class="o">+</span> <span class="n">service_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;.forms&#39;</span><span class="p">,</span>
                  <span class="n">service_name</span> <span class="o">+</span> <span class="s1">&#39;ProviderForm&#39;</span><span class="p">)</span>
       <span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">steps</span><span class="o">.</span><span class="n">current</span> <span class="o">==</span> <span class="s1">&#39;3&#39;</span><span class="p">:</span>
            <span class="n">service_name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;consummer&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;Service&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
            <span class="c1">#services are named th_</span>
            <span class="c1">#call of the dedicated ConsummerForm</span>
            <span class="n">form</span> <span class="o">=</span> <span class="n">class_for_name</span><span class="p">(</span><span class="s1">&#39;th_&#39;</span> <span class="o">+</span> <span class="n">service_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;.forms&#39;</span><span class="p">,</span>
                  <span class="n">service_name</span> <span class="o">+</span> <span class="s1">&#39;ConsummerForm&#39;</span><span class="p">)</span>
        <span class="n">context</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">UserServiceWizard</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">get_context_data</span><span class="p">(</span><span class="n">form</span><span class="o">=</span><span class="n">form</span><span class="p">,</span>
                                  <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">context</span>
</code></pre></div>

<p>Ça marche super bien... j'ai bien écrasé le form DumyForm par celui que
me fourni le service que j'ai choisi dans la page précédente.<br>
C'est ce que récupere service_name, puis j'appelle le form de mon
service via class_for_name.</p>
<p>Donc tout va bien... tant qu'on n'arrive pas à la méthode <strong>done()</strong> qui
gère elle, la validation de tous les formulaires saisis.<br>
Là j'ai eu beau me farcir (pendant des semaines de tests) toutes les
méthodes du FormWizard pour creuser dans laquelle je pouvais mettre la
"bonne liste" de Formulaire que je générai dynamiquement, rien y
faisait, <strong>self.form_list</strong> restait immuable, impossible à changer...
sauf une, celle de la solution ...</p>
<h2>The Right way to do it !</h2>
<p>A force de creuser pleins de solutions j'en suis arrivé à ne plus avoir
les idées claires pour un truc pourtant simplissime.<br>
J'ai donc demandé de l'aide via une barre chocolatée (aka un bounty)
sur StackOverFlow, ce qui m'a permit de trouver la voie !</p>
<p>Plutôt que tripatouiller <em>self.form_list</em> du FormWizard puisqu'il était
tout le temps remis aux valeurs indiquées dans mon <strong>urls.py</strong>, il
fallait laisser choir <strong>get_context_data()</strong> pour le simplissime
<strong>get_form()</strong> comme suit :</p>
<div class="highlight"><pre><span></span><code><span class="k">def</span> <span class="nf">get_form</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">step</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">files</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        change the form instance dynamically from the data we entered</span>
<span class="sd">        at the previous step</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">step</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">step</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">steps</span><span class="o">.</span><span class="n">current</span>

    <span class="k">if</span> <span class="n">step</span> <span class="o">==</span> <span class="s1">&#39;1&#39;</span><span class="p">:</span>
        <span class="c1"># change the form</span>
        <span class="n">prev_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_cleaned_data_for_step</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">)</span>
        <span class="n">service_name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">prev_data</span><span class="p">[</span><span class="s1">&#39;provider&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;Service&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">class_name</span> <span class="o">=</span> <span class="s1">&#39;th_&#39;</span> <span class="o">+</span> <span class="n">service_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;.forms&#39;</span>
        <span class="n">form_name</span> <span class="o">=</span> <span class="n">service_name</span> <span class="o">+</span> <span class="s1">&#39;ProviderForm&#39;</span>
        <span class="n">form_class</span> <span class="o">=</span> <span class="n">class_for_name</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">form_name</span><span class="p">)</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">form_class</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
   <span class="c1">#edition du billet le 16/10</span>
   <span class="k">elif</span> <span class="n">step</span> <span class="o">==</span> <span class="s1">&#39;2&#39;</span><span class="p">:</span> 
        <span class="n">step0_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_cleaned_data_for_step</span><span class="p">(</span><span class="s1">&#39;0&#39;</span><span class="p">)</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">ConsummerForm</span><span class="p">(</span>
            <span class="n">data</span><span class="p">,</span> <span class="n">initial</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;provider&#39;</span><span class="p">:</span> <span class="n">step0_data</span><span class="p">[</span><span class="s1">&#39;provider&#39;</span><span class="p">]})</span>
    <span class="k">elif</span> <span class="n">step</span> <span class="o">==</span> <span class="s1">&#39;3&#39;</span><span class="p">:</span>
        <span class="c1"># change the form</span>
        <span class="n">prev_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_cleaned_data_for_step</span><span class="p">(</span><span class="s1">&#39;2&#39;</span><span class="p">)</span>
        <span class="n">service_name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">prev_data</span><span class="p">[</span><span class="s1">&#39;consummer&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;Service&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">class_name</span> <span class="o">=</span> <span class="s1">&#39;th_&#39;</span> <span class="o">+</span> <span class="n">service_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">+</span> <span class="s1">&#39;.forms&#39;</span>
        <span class="n">form_name</span> <span class="o">=</span> <span class="n">service_name</span> <span class="o">+</span> <span class="s1">&#39;ConsummerForm&#39;</span>
        <span class="n">form_class</span> <span class="o">=</span> <span class="n">class_for_name</span><span class="p">(</span><span class="n">class_name</span><span class="p">,</span> <span class="n">form_name</span><span class="p">)</span>
        <span class="n">form</span> <span class="o">=</span> <span class="n">form_class</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="c1"># get the default form</span>
        <span class="n">form</span> <span class="o">=</span> <span class="nb">super</span><span class="p">(</span><span class="n">UserServiceWizard</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">get_form</span><span class="p">(</span><span class="n">step</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">files</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">form</span>
</code></pre></div>

<p>c'est un peu verbeux et aurait pû être plus court pour tenir sur une
ligne mais en fait pep8 me faisait un caca nerveu alors j'ai alloué mes
vars <em>service_name</em>, <em>class_name</em>, <em>form_name</em> tranquillou</p>
<p>Bon avec tout ça, là, on arrive au même point que ce que j'ai fait plus
haut avec le <strong>get_context_data()</strong>.<br>
Ici, le "plus" est que je récupère l'instance de ma classe avec les
données saisies du form ! (même si j'avais faire un form
class_for_name(...)(data) ca passait pas )</p>
<h2>la méthode La Fée</h2>
<p>Reste ensuite à traiter toutes ces données dans la méthode <strong>done()</strong>.
La méthode done dans le FormWizard est la seule obligatoire à fournir
systématiquement. Toutes les autres ne sont pas nécessaire à son
fonctionnement, sauf celle ci qui si elle n'est pas définie pêtera une
erreur, recta. Et pour cause, c'est avec elle que vous vous chargerez de
vérifier la validité de vos données avant de les enregistrer.</p>
<p>La gymnastique ici, va consister à enregistrer les données sans
connaitre la moindre property des modèles correspondant aux services
sélectionnés.<br>
Enfin, quand je dis que je ne les connais pas, je ne les connais pas au
moment où je code. Je ne peux pas me permettre ici aussi, de hardcoder
le nom d'une seule d'entre elles, puisque tout est dynamique ici.</p>
<p>Comme dit plus tôt, je connais exactement 3 des 5 pages que je remplis,
donc je grabbe ces infos pour les stocker dans un premier modèle
<strong>TriggerService</strong>.<br>
Ensuite je grabbe les info saisies pour le formulaire que je nomme
"provider" puis celui de "consummer" et je donne à chacun de ces 2
modèles le lien vers le modèle <strong>TriggerService</strong> (c'est dans mon MCD
pour pouvoir revenir modifier mon trigger)</p>
<p>Now, follow me ;)</p>
<div class="highlight"><pre><span></span><code><span class="kn">import</span> <span class="nn">importlib</span>
<span class="k">def</span> <span class="nf">class_for_name</span><span class="p">(</span><span class="n">module_name</span><span class="p">,</span> <span class="n">class_name</span><span class="p">):</span>
    <span class="c1"># load the module, will raise ImportError if module cannot be loaded</span>
    <span class="n">m</span> <span class="o">=</span> <span class="n">importlib</span><span class="o">.</span><span class="n">import_module</span><span class="p">(</span><span class="n">module_name</span><span class="p">)</span>
    <span class="c1"># get the class, will raise AttributeError if class cannot be found</span>
    <span class="n">c</span> <span class="o">=</span> <span class="nb">getattr</span><span class="p">(</span><span class="n">m</span><span class="p">,</span> <span class="n">class_name</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">c</span>

<span class="k">def</span> <span class="nf">get_service_model</span><span class="p">(</span><span class="n">what</span><span class="p">,</span> <span class="n">data</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        get the service name then load the model</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">service_name</span> <span class="o">=</span> <span class="nb">str</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">what</span><span class="p">])</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;Service&#39;</span><span class="p">)[</span><span class="mi">1</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">class_for_name</span><span class="p">(</span><span class="s1">&#39;th_&#39;</span> <span class="o">+</span> <span class="n">service_name</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="o">+</span>
                          <span class="s1">&#39;.models&#39;</span><span class="p">,</span> <span class="n">service_name</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">done</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">form_list</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Save info to the DB</span>
<span class="sd">        The process is :</span>
<span class="sd">        1) get the infos for the Trigger from step 0, 2, 4</span>
<span class="sd">        2) save it to TriggerService</span>
<span class="sd">        3) get the infos from the &quot;Provider&quot; and &quot;Consummer&quot; services</span>
<span class="sd">        at step 1 and 3</span>
<span class="sd">        4) save all of them</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="c1"># get the datas from the form for TriggerService</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">form</span> <span class="ow">in</span> <span class="n">form_list</span><span class="p">:</span>
        <span class="c1"># cleaning</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span>
        <span class="c1"># get the service we selected at step 0 : provider</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span>
            <span class="n">trigger_provider</span> <span class="o">=</span> <span class="n">UserService</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;provider&#39;</span><span class="p">],</span>
                <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>
            <span class="n">model_provider</span> <span class="o">=</span> <span class="n">get_service_model</span><span class="p">(</span><span class="s1">&#39;provider&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
        <span class="c1"># get the service we selected at step 2 : consummer</span>
        <span class="k">elif</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">trigger_consummer</span> <span class="o">=</span> <span class="n">UserService</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">get</span><span class="p">(</span>
                <span class="n">name</span><span class="o">=</span><span class="n">data</span><span class="p">[</span><span class="s1">&#39;consummer&#39;</span><span class="p">],</span>
                <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">)</span>
            <span class="n">model_consummer</span> <span class="o">=</span> <span class="n">get_service_model</span><span class="p">(</span><span class="s1">&#39;consummer&#39;</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span>
        <span class="c1"># get the description we gave for the trigger</span>
        <span class="k">elif</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">4</span><span class="p">:</span>
            <span class="n">trigger_description</span> <span class="o">=</span> <span class="n">data</span><span class="p">[</span><span class="s1">&#39;description&#39;</span><span class="p">]</span>
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="c1"># save the trigger</span>
    <span class="n">trigger</span> <span class="o">=</span> <span class="n">TriggerService</span><span class="p">(</span>
        <span class="n">provider</span><span class="o">=</span><span class="n">trigger_provider</span><span class="p">,</span> <span class="n">consummer</span><span class="o">=</span><span class="n">trigger_consummer</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">request</span><span class="o">.</span><span class="n">user</span><span class="p">,</span> <span class="n">status</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">description</span><span class="o">=</span><span class="n">trigger_description</span><span class="p">)</span>
    <span class="n">trigger</span><span class="o">.</span><span class="n">save</span><span class="p">()</span>

    <span class="n">model_fields</span> <span class="o">=</span> <span class="p">{}</span>
    <span class="c1"># get the datas from the form for Service related</span>
    <span class="c1"># save the related models to provider and consummer</span>
    <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">form</span> <span class="ow">in</span> <span class="n">form_list</span><span class="p">:</span>
        <span class="n">model_fields</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="n">data</span> <span class="o">=</span> <span class="n">form</span><span class="o">.</span><span class="n">cleaned_data</span>
        <span class="c1"># get the data for the provider service</span>
        <span class="k">if</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="n">model_fields</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">field</span><span class="p">:</span> <span class="n">data</span><span class="p">[</span><span class="n">field</span><span class="p">]})</span>
            <span class="c1"># additionnal properties</span>
            <span class="n">model_fields</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;trigger_id&#39;</span><span class="p">:</span> <span class="n">trigger</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>
            <span class="n">model_provider</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="o">**</span><span class="n">model_fields</span><span class="p">)</span>
        <span class="c1"># get the data for the consummer service</span>
        <span class="k">elif</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">3</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">field</span> <span class="ow">in</span> <span class="n">data</span><span class="p">:</span>
                <span class="n">model_fields</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="n">field</span><span class="p">:</span> <span class="n">data</span><span class="p">[</span><span class="n">field</span><span class="p">]})</span>
            <span class="c1"># additionnal properties</span>
            <span class="n">model_fields</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;trigger_id&#39;</span><span class="p">:</span> <span class="n">trigger</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="kc">True</span><span class="p">})</span>
            <span class="n">model_consummer</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="o">**</span><span class="n">model_fields</span><span class="p">)</span>
        <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="k">return</span> <span class="n">HttpResponseRedirect</span><span class="p">(</span><span class="s1">&#39;/&#39;</span><span class="p">)</span>
</code></pre></div>

<p>le début est surtout de la tambouille interne à mon workflow ; ce qui
import ici c'est l'usage de :</p>
<div class="highlight"><pre><span></span><code><span class="n">model_provider</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="o">**</span><span class="n">model_fields</span><span class="p">)</span>
<span class="n">model_consummer</span><span class="o">.</span><span class="n">objects</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="o">**</span><span class="n">model_fields</span><span class="p">)</span>
</code></pre></div>

<p>qui permet pour un modèle inconnu d'y stocker des properties via un
<strong>kwargs</strong> dont le contenu est tout aussi inconnu, mais valide !</p>
<p>Voilà ; le code peut allègrement être amélioré sans aucun doute ;)</p>
<h2>Conclusion:</h2>
<p>Ainsi, comme on peut le voir à présent, il n'y a aucune limite possible,
autre que de ne pas avoir accès à l'API d'un service tiers ;)<br>
Tout ce qui fourni de l'information et peut en stocker peut être
utiliser dans les 2 sens, que ca soit comme provider ou consummer.</p>
<p>A présent je vais pouvoir passer à pondre de nouveaux services comme
ceux indiqués dans le sondage :D<br>
J'aurai mis le temps mais le résultat en vaut la peine.</p>
<h2>D'autres liens traitant du sujets</h2>
<p>Ci dessous, une liste de sujets sur le FormWizard par lesquels je suis
passé pour tenter de trouver mon bonheur qui pourraient quand même vous
servir, just in case :</p>
<ul>
<li><a href="http://stackoverflow.com/questions/9777879/dynamic-number-of-steps-using-django-wizard/11455183#11455183">Dynamic number of step using Django
    Wizard</a></li>
<li><a href="http://bpaste.net/show/l3CRJ6DMbp64qH3FISCO/">changer les formulaires de questionnaires à la
    volée</a></li>
<li><a href="http://stackoverflow.com/questions/3940138/how-to-pass-previous-form-data-to-the-constructor-of-a-dynamicform-in-formwizard?rq=1">How
    to pass previous form data to the constructor of a DynamicForm in
    FormWizard</li>
<li><a href="http://stackoverflow.com/questions/8172398/django-formwizard-how-do-you-dynamically-create-a-formset-based-on-previous-st?rq=1">How do you dynamically create a formset based on previous
    step</a></li>
</ul>
<p><strong>edit</strong><br>
J'adresse un petit merci pour l'écoute de chacun que j'ai pu
enquiquiner sur le sujet sur
<a href="irc://irc.freenode.net/django-fr">django-fr</a> et les pistes fournies par
un certain Spoutnik ;)</p>
            </div>
            <!-- /.entry-content -->
<section class="well" id="related-posts">
    <h4>Related Posts:</h4>
    <ul>
        <li><a href="https://www.foxmask.org/post/2015/08/24/shoot-an-arrow-with-ansible-in-the-triggerhappy-target/">Shoot an Arrow with Ansible in the TriggerHappy target</a></li>
        <li><a href="https://www.foxmask.org/post/2015/08/18/django-trigger-happy-0-11-0-english-version/">Django Trigger Happy 0.11.0 English Version</a></li>
        <li><a href="https://www.foxmask.org/post/2015/08/17/django-trigger-happy-0-11-0/">Django Trigger Happy 0.11.0</a></li>
        <li><a href="https://www.foxmask.org/post/2015/04/23/django-trigger-happy-0-10-x-and-his-friends/">Django Trigger Happy 0.10.x and his friends</a></li>
        <li><a href="https://www.foxmask.org/post/2015/04/21/django-trigger-happy-0-10-x-et-ses-amis/">Django Trigger Happy 0.10.x et ses amis</a></li>
        <li><a href="https://www.foxmask.org/post/2014/12/01/trigger-happy-creer-un-module/">Trigger Happy : Créer un module - la doc</a></li>
        <li><a href="https://www.foxmask.org/post/2014/11/27/django-paris-numa-novembre-2014-demo-live/">Django Paris - Novembre 2014 - Numa : Demo Live</a></li>
        <li><a href="https://www.foxmask.org/post/2014/10/22/django-trigger-happy-declenche-heureuse-rafale-maj/">Django Trigger Happy - déclenche une heureuse rafale de mises à jour</a></li>
    </ul>
</section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<!-- Sidebar -->
<section class="well well-sm">
  <ul class="list-group list-group-flush">

<!-- Sidebar/Links -->
<li class="list-group-item">
  <h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
  <ul class="list-group" id="links">
    <li class="list-group-item">
      <a href="/feeds/all.rss.xml" target="_blank">FoxMaSk RSS</a>
    </li>
    <li class="list-group-item">
      <a href="https://python.org/" target="_blank">Python</a>
    </li>
    <li class="list-group-item">
      <a href="https://pycon.fr/" target="_blank">PyConFr</a>
    </li>
    <li class="list-group-item">
      <a href="https://pycon.kr/" target="_blank">PyConKr</a>
    </li>
    <li class="list-group-item">
      <a href="https://www.djangoproject.com/" target="_blank">Django</a>
    </li>
    <li class="list-group-item">
      <a href="https://www.django-rest-framework.org/" target="_blank">DRF</a>
    </li>
    <li class="list-group-item">
      <a href="https://www.ansible.com/" target="_blank">Ansible</a>
    </li>
    <li class="list-group-item">
      <a href="https://www.coree-culture.org/?lang=fr" target="_blank">Centre Culturel Coréen</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Links -->
  </ul>
</section>
<!-- End Sidebar -->            </aside>
        </div>
    </div>
</div>
<!-- End Content Container -->

<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2023 FoxMaSk
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>              <p><small>Unless otherwise stated, all articles are published under the <a href="http://www.wtfpl.net/about/">WTFPL</a> license.</small></p>
         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="https://www.foxmask.org/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="https://www.foxmask.org/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="https://www.foxmask.org/theme/js/respond.min.js"></script>


    <script src="https://www.foxmask.org/theme/js/bodypadding.js"></script>


</body>
</html>