<!DOCTYPE html>
<html lang="en" prefix="og: http://ogp.me/ns# fb: https://www.facebook.com/2008/fbml">
<head>
    <title>De wordpress à pelican - Le Free de la Passion</title>
    <!-- Using the latest rendering mode for IE -->
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">



<link rel="canonical" href="https://foxmask.net/post/2016/01/02/de-wordpress-a-pelican/">

        <meta name="author" content="FoxMaSk" />
        <meta name="keywords" content="pelican,python" />
        <meta name="description" content="Un enième billets d&#39;une migration de Wordpress à Pelican" />

        <meta property="og:site_name" content="Le Free de la Passion" />
        <meta property="og:type" content="article"/>
        <meta property="og:title" content="De wordpress à pelican"/>
        <meta property="og:url" content="https://foxmask.net/post/2016/01/02/de-wordpress-a-pelican/"/>
        <meta property="og:description" content="Un enième billets d&#39;une migration de Wordpress à Pelican"/>
        <meta property="article:published_time" content="2016-01-02" />
            <meta property="article:section" content="General" />
            <meta property="article:tag" content="pelican" />
            <meta property="article:tag" content="python" />
            <meta property="article:author" content="FoxMaSk" />



    <!-- Bootstrap -->
        <link rel="stylesheet" href="https://foxmask.net/theme/css/bootstrap.min.css" type="text/css"/>
    <link href="https://foxmask.net/theme/css/font-awesome.min.css" rel="stylesheet">

    <link href="https://foxmask.net/theme/css/pygments/native.css" rel="stylesheet">
    <link href="https://foxmask.net/theme/tipuesearch/tipuesearch.css" rel="stylesheet">
    <link rel="stylesheet" href="https://foxmask.net/theme/css/style.css" type="text/css"/>

        <link href="https://foxmask.net/feeds/all.atom.xml" type="application/atom+xml" rel="alternate"
              title="Le Free de la Passion ATOM Feed"/>

        <link href="https://foxmask.net/feeds/all.rss.xml" type="application/rss+xml" rel="alternate"
              title="Le Free de la Passion RSS Feed"/>


        <link href="https://foxmask.net/feeds/{slug}.atom.xml" type="application/atom+xml" rel="alternate"
              title="Le Free de la Passion General ATOM Feed"/>

</head>
<body>

<div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
	<div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-ex1-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a href="https://foxmask.net/" class="navbar-brand">
Le Free de la Passion            </a>
        </div>
        <div class="collapse navbar-collapse navbar-ex1-collapse">
            <ul class="nav navbar-nav">
                         <li><a href="https://foxmask.net/pages/a-propos">
                             À propos
                          </a></li>
                        <li >
                            <a href="https://foxmask.net/category/entrevues.html">Entrevues</a>
                        </li>
                        <li >
                            <a href="https://foxmask.net/category/games.html">Games</a>
                        </li>
                        <li class="active">
                            <a href="https://foxmask.net/category/general.html">General</a>
                        </li>
                        <li >
                            <a href="https://foxmask.net/category/news.html">News</a>
                        </li>
                        <li >
                            <a href="https://foxmask.net/category/techno.html">Techno</a>
                        </li>
            </ul>
            <ul class="nav navbar-nav navbar-right">
              <li><span>
                <form class="navbar-search" action="/search.html">
                  <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input" required>
                </form></span>
              </li>
              <li><a href="https://foxmask.net/archives.html"><i class="fa fa-th-list"></i><span class="icon-label">Archives</span></a></li>
            </ul>
        </div>
        <!-- /.navbar-collapse -->
    </div>
</div> <!-- /.navbar -->
<!-- Banner -->
<!-- End Banner -->
<div class="container">
    <div class="row">
        <div class="col-sm-9">
    <section id="content">
        <article>
            <header class="page-header">
                <h1>
                    <a href="https://foxmask.net/post/2016/01/02/de-wordpress-a-pelican/"
                       rel="bookmark"
                       title="Permalink to De wordpress à pelican">
                        De wordpress à pelican
                    </a>
                </h1>
            </header>
            <div class="entry-content">
                <div class="panel">
                    <div class="panel-body">
<footer class="post-info">
    <span class="label label-default">Date</span>
    <span class="published">
        <i class="fa fa-calendar"></i><time datetime="2016-01-02T17:00:00+01:00"> sam. 02 janvier 2016</time>
    </span>





<span class="label label-default">Tags</span>
	<a href="https://foxmask.net/tag/pelican.html">pelican</a>
        /
	<a href="https://foxmask.net/tag/python.html">python</a>
    
</footer><!-- /.post-info -->                    </div>
                </div>
                <p>Ce billet est surement le <em>beacoupdième</em> abordant le sujet ;-)</p>
<p>J'irai donc faire court dans la mesure du possible pour expliciter le <em>pourquoi</em>, le <em>comment</em>, et une <em>idée</em> qui a germé lors de l'utilisation de <a href="http://getpelican.com" title="Generateur statique de site web">pelican</a></p>
<h1>Pourquoi ?</h1>
<p>La réponse est multiple, et un peu redondante avec le billet précédent.
J'ai voulu mettre fin à mon blog en wordpress parce que je ne vais pas continuer à conserver le domaine et l'hebergement associé. Comme je n'ai tout de même pas voulu tout mettre aux oubliettes, j'ai tout de même conserver un peu de ces 11ans de blog.
Le choix vers pelican s'est fait naturellement après l'avoir testé pour 2 autres blogs, celui pour "<a href="http://smcomm.trigger-happy.eu">la communauté sam et max</a>" et celui du projet <a href="http://blog.trigger-happy.eu">trigger-happy</a></p>
<h1>Comment ?</h1>
<p>Comme le dit la doc, en premier lieu il faut exporter son blog wordpress dans un fichier XML.
Après, pour l'importer, on choisit le format d'import : reStructuredText, Markdown.</p>
<div class="highlight"><pre><span></span><code>pelican-import --wpfile foxmaskinfo.xml 
</code></pre></div>


<p>ainsi lancée, la commande part pour me traduire 900 billets en .rst</p>
<p>Mais là j'ai pris une sérieuse claque.
A chaque lancement de la commande je me coltinais des erreurs de formatage, des retour à la ligne inopinée, des urls tronquées pour des carriage return line feed inopinées.
Au bout de 2 jours, j'arrivais à finir ma migration d'import en ayant pris soin de remplacer toutes les urls http://foxmask.info et http://foxmask.bzh en '/' purement.
Mais un malencontreux et tardif (vu l'heure)</p>
<div class="highlight"><pre><span></span><code>rm -f content/*
</code></pre></div>


<p>m'a coupé les pattes , 2j partis en fumée j'en pouvais plus, j'étais sur le point de laisser tomber la migration.</p>
<p>J'ai donc cherché une recette sur la toile, sur le best practice de cette migration et là je tombe sur <a href="http://kevin.deldycke.com/2013/02/wordpress-to-pelican/">ce post</a> complet.
Et surtout j'étais passé à coté du format Markdown.
Donc nouveau plan de bataille :</p>
<ul>
<li>utiliser le format markdown</li>
<li>gerer le remplacement de foxmask.(bzh|info) avec PyCharm afin qu'il gère le remplacement récursivement et tranquillement.</li>
</ul>
<div class="highlight"><pre><span></span><code>pelican-import --wpfile -m markdown foxmaskinfo.xml 
</code></pre></div>


<p>Et là, miracle : PAS UNE SEULE erreur de formatage à l'issue de cette migration, j'étais comme deux ronds de flan.</p>
<p>Ensuite, avec PyCharm, j'acheve la mise à jour des urls en 2min :P</p>
<p>Le reste de la migration c'est :</p>
<p>dans <em>pelicanconf.py</em>, gérer le chemin static de toutes les images que j'ai pu coller dans le blog</p>
<p>Puis après quelques ajustements de <a href="https://github.com/duilio/pelican-octopress-theme">themes</a> et <a href="https://github.com/getpelican/pelican-plugins">plugin pelican</a>, voilà le blog prêt.</p>
<h1>Une idée</h1>
<p>Maintenant une idée toute QQ.</p>
<p>Pelican c'est cool parce que statique. Ya pas plus simple qu'une page HTML à servir pour un serveur HTTP.</p>
<p>Par contre niveau production de billet, pelican est très geek oriented.
Je ne m'imagine pas un utilisateur lambda de wordpress, passer à Pelican.
Déjà, les thèmes ne courrent pas les rues, et la saisie des billets n'est pas le plus fun.</p>
<p>Du coup j'm'ai dizamoimeme : pourquoi ne pas faire une interface web qui permette de pondre ses billets ? Pas un truc aussi ambitieux que l'interface de Wordpress, mais au moins :</p>
<ul>
<li>une page pour créer un article avec un editeur wysiwyg</li>
<li>à l'enregistrement de l'article, créer le fichier .md</li>
<li>générer la page html via la commande make html</li>
</ul>
<p>avant de me lancer dans ce truc j'ai demandé sur <a href="irc://irc.freenode.net/pelican">#pelican@freenode</a> si un tel projet existait, et j'ai eu droit à une réponse de normand... Donc bon je vois kiki va kor faire un truc con kwa.</p>
            </div>
            <!-- /.entry-content -->
<section class="well" id="related-posts">
    <h4>Related Posts:</h4>
    <ul>
        <li><a href="https://foxmask.net/post/2016/01/05/dans-la-serie-jai-migre-vers-pelican/">Dans la série, j'ai migré vers Pélican</a></li>
        <li><a href="https://foxmask.net/post/2015/12/29/une-autre-histoire/">Une autre histoire</a></li>
        <li><a href="https://foxmask.net/post/2019/04/24/mais-tu-es-fou-hoo-oui/">Mais tu es fou ? Hooo Oui</a></li>
        <li><a href="https://foxmask.net/post/2018/01/23/quand-fabric-refuse-bosser/">Quand Fabric refuse de bosser</a></li>
        <li><a href="https://foxmask.net/post/2017/12/21/2017-at-a-glance/">2017 at a glance</a></li>
    </ul>
</section>
    <hr/>
    <section class="comments" id="comments">
        <h2>Comments</h2>

        <div id="disqus_thread"></div>
        <script type="text/javascript">
            /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
            var disqus_shortname = 'foxmasktriggerhappyeu'; // required: replace example with your forum shortname

                    var disqus_identifier = 'de-wordpress-a-pelican';
                var disqus_url = 'https://foxmask.net/post/2016/01/02/de-wordpress-a-pelican/';

            var disqus_config = function () {
                this.language = "en";
            };

            /* * * DON'T EDIT BELOW THIS LINE * * */
            (function () {
                var dsq = document.createElement('script');
                dsq.type = 'text/javascript';
                dsq.async = true;
                dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
                (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
            })();
        </script>
        <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by
            Disqus.</a></noscript>
        <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    </section>
        </article>
    </section>

        </div>
        <div class="col-sm-3" id="sidebar">
            <aside>
<!-- Sidebar -->
<section class="well well-sm">
  <ul class="list-group list-group-flush">

<!-- Sidebar/Tag Cloud -->
<li class="list-group-item">
  <a href="https://foxmask.net/"><h4><i class="fa fa-tags fa-lg"></i><span class="icon-label">Tags</span></h4></a>
  <ul class="list-group list-inline tagcloud" id="tags">
    <li class="list-group-item tag-3">
      <a href="https://foxmask.net/tag/ansible.html">ansible</a>
    </li>
    <li class="list-group-item tag-1">
      <a href="https://foxmask.net/tag/apachemysqlphp.html">ApacheMySqlPHP</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://foxmask.net/tag/autobahn.html">autobahn</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://foxmask.net/tag/crossbar.html">crossbar</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://foxmask.net/tag/debian.html">debian</a>
    </li>
    <li class="list-group-item tag-1">
      <a href="https://foxmask.net/tag/django.html">Django</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://foxmask.net/tag/evernote.html">Evernote</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://foxmask.net/tag/fabric.html">Fabric</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://foxmask.net/tag/havefnubb.html">HaveFnuBB</a>
    </li>
    <li class="list-group-item tag-1">
      <a href="https://foxmask.net/tag/jelix.html">Jelix</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://foxmask.net/tag/linux.html">linux</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://foxmask.net/tag/oracle.html">oracle</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://foxmask.net/tag/pelican.html">pelican</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://foxmask.net/tag/pycharm.html">PyCharm</a>
    </li>
    <li class="list-group-item tag-1">
      <a href="https://foxmask.net/tag/python.html">Python</a>
    </li>
    <li class="list-group-item tag-2">
      <a href="https://foxmask.net/tag/pythonerie.html">pythonerie</a>
    </li>
    <li class="list-group-item tag-4">
      <a href="https://foxmask.net/tag/starlette.html">Starlette</a>
    </li>
    <li class="list-group-item tag-1">
      <a href="https://foxmask.net/tag/triggerhappy.html">triggerhappy</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://foxmask.net/tag/wallabag.html">wallabag</a>
    </li>
    <li class="list-group-item tag-3">
      <a href="https://foxmask.net/tag/wampws.html">wampws</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Tag Cloud -->

<!-- Sidebar/Github -->
<li class="list-group-item">
  <h4><i class="fa fa-github fa-lg"></i><span class="icon-label">GitHub Repos</span></h4>
  <div id="gh_repos">
    <p class="list-group-item">Status updating...</p>
  </div>
  <a href="https://github.com/foxmask">@foxmask</a> on GitHub
</li>
<!-- End Sidebar/Github -->

<!-- Sidebar/Links -->
<li class="list-group-item">
  <h4><i class="fa fa-external-link-square fa-lg"></i><span class="icon-label">Links</span></h4>
  <ul class="list-group" id="links">
    <li class="list-group-item">
      <a href="http://sametmax.com" target="_blank">Sam et Max</a>
    </li>
    <li class="list-group-item">
      <a href="https://foxmask.net/feeds/all.rss.xml" target="_blank">RSS</a>
    </li>
    <li class="list-group-item">
      <a href="https://foxmask.net/feeds/all.atom.xml" target="_blank">Atom</a>
    </li>
    <li class="list-group-item">
      <a href="http://planetpython.org/" target="_blank">Python Planet</a>
    </li>
    <li class="list-group-item">
      <a href="http://django-planet.com/" target="_blank">Django Planet</a>
    </li>
    <li class="list-group-item">
      <a href="http://www.django-fr.org/planete/" target="_blank">Django-Fr Planet</a>
    </li>
  </ul>
</li>
<!-- End Sidebar/Links -->
  </ul>
</section>
<!-- End Sidebar -->            </aside>
        </div>
    </div>
</div>
<footer>
   <div class="container">
      <hr>
      <div class="row">
         <div class="col-xs-10">&copy; 2020 FoxMaSk
            &middot; Powered by <a href="https://github.com/getpelican/pelican-themes/tree/master/pelican-bootstrap3" target="_blank">pelican-bootstrap3</a>,
            <a href="http://docs.getpelican.com/" target="_blank">Pelican</a>,
            <a href="http://getbootstrap.com" target="_blank">Bootstrap</a>              <p><small>Unless otherwise stated, all articles are published under the <a href="http://www.wtfpl.net/about/">WTFPL</a> license.</small></p>
         </div>
         <div class="col-xs-2"><p class="pull-right"><i class="fa fa-arrow-up"></i> <a href="#">Back to top</a></p></div>
      </div>
   </div>
</footer>
<script src="https://foxmask.net/theme/js/jquery.min.js"></script>

<!-- Include all compiled plugins (below), or include individual files as needed -->
<script src="https://foxmask.net/theme/js/bootstrap.min.js"></script>

<!-- Enable responsive features in IE8 with Respond.js (https://github.com/scottjehl/Respond) -->
<script src="https://foxmask.net/theme/js/respond.min.js"></script>


    <script src="https://foxmask.net/theme/js/bodypadding.js"></script>

<!-- GitHub JS Code -->
<script type="text/javascript">
$(document).ready(function () {
  if (!window.jXHR) {
    var jxhr = document.createElement('script');
    jxhr.type = 'text/javascript';
    jxhr.src = 'https://foxmask.net/theme/js/jXHR.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(jxhr, s);
  }

  github.showRepos({
    user: 'foxmask',
    count: 5,
    skip_forks: false,
    target: '#gh_repos'
  });
});
</script>
<script src="https://foxmask.net/theme/js/github.js" type="text/javascript"></script>
<!-- End GitHub JS Code -->
    <!-- Disqus -->
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'foxmasktriggerhappyeu'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function () {
            var s = document.createElement('script');
            s.async = true;
            s.type = 'text/javascript';
            s.src = '//' + disqus_shortname + '.disqus.com/count.js';
            (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
        }());
    </script>
    <!-- End Disqus Code -->


</body>
</html>